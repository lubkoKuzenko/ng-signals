import{a as Y,c as R,e as z,f as Z,g as M}from"./chunk-T7V327SK.js";import{a as de}from"./chunk-LKGVPE75.js";import"./chunk-3XRV5TP5.js";import{a as ee,b as $,c as te,d as oe,e as ne,f as ie,g as re,h as ae,i as le,l as se}from"./chunk-22IQ3ZAD.js";import{a as K,c as Q}from"./chunk-BXPOS6SN.js";import{$a as d,Aa as _,Ab as c,Cc as J,Db as X,Gb as D,Hb as k,Ia as H,Ib as a,Jb as l,Kb as v,Oa as b,Ob as U,Pb as g,Qb as x,Wb as m,Wc as S,Yb as w,a as f,ad as L,b as C,cc as I,dc as E,ec as B,kb as y,pb as A,za as h}from"./chunk-IHVPKYJR.js";var s=[];for(let t=0;t<256;++t)s.push((t+256).toString(16).slice(1));function me(t,e=0){return(s[t[e+0]]+s[t[e+1]]+s[t[e+2]]+s[t[e+3]]+"-"+s[t[e+4]]+s[t[e+5]]+"-"+s[t[e+6]]+s[t[e+7]]+"-"+s[t[e+8]]+s[t[e+9]]+"-"+s[t[e+10]]+s[t[e+11]]+s[t[e+12]]+s[t[e+13]]+s[t[e+14]]+s[t[e+15]]).toLowerCase()}var G,fe=new Uint8Array(16);function O(){if(!G){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");G=crypto.getRandomValues.bind(crypto)}return G(fe)}var ge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),W={randomUUID:ge};function Ce(t,e,o){if(W.randomUUID&&!e&&!t)return W.randomUUID();t=t||{};let n=t.random??t.rng?.()??O();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(o=o||0,o<0||o+16>e.length)throw new RangeError(`UUID byte range ${o}:${o+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[o+i]=n[i];return e}return me(n)}var p=Ce;var pe=[{id:p(),name:"1",style:{width:"30%",backgroundColor:"blue"}},{id:p(),name:"2",style:{width:"40%",backgroundColor:"orange"}},{id:p(),name:"3",style:{width:"30%",backgroundColor:"gray"}},{id:p(),name:"4",style:{width:"50%",backgroundColor:"gray"}},{id:p(),name:"5",style:{width:"40%",backgroundColor:"green"}},{id:p(),name:"6",style:{width:"20%",backgroundColor:"blue"}},{id:p(),name:"7",style:{width:"60%",backgroundColor:"orange"}}];var T=class t{selectedItem=b(null);layoutConfigChange=new H;form=new ne({name:new ie("",[$.required,$.maxLength(3)])});get controls(){return this.form.controls}constructor(){J(()=>{let e=this.selectedItem();e?this.form.patchValue({name:e.name}):this.form.reset()})}onSubmit(){let{name:e}=this.form.getRawValue(),o=C(f({},this.selectedItem()),{name:e||""});this.layoutConfigChange.emit(o)}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=y({type:t,selectors:[["control-editor"]],inputs:{selectedItem:"selectedItem"},outputs:{layoutConfigChange:"layoutConfigChange"},decls:10,vars:3,consts:[[3,"formGroup"],[1,"mb-2"],["for","name",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["type","text","id","name","formControlName","name",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[3,"control"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","disabled:bg-indigo-300","disabled:cursor-not-allowed",3,"click","disabled"]],template:function(o,n){o&1&&(a(0,"h3"),m(1,"Edit Control"),l(),a(2,"form",0)(3,"div",1)(4,"label",2),m(5,"Name:"),l(),v(6,"input",3)(7,"bb-validation-message",4),l(),a(8,"button",5),g("click",function(){return n.onSubmit()}),m(9," Submit "),l()()),o&2&&(d(2),c("formGroup",n.form),d(5),c("control",n.controls.name),d(),c("disabled",n.form.invalid))},dependencies:[se,re,ee,te,oe,ae,le,de],encapsulation:2})};var V=class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=y({type:t,selectors:[["empty-area"]],decls:2,vars:0,template:function(o,n){o&1&&(a(0,"p"),m(1,"No items to display."),l())},encapsulation:2})};var ue=[{name:"textfield",style:{width:"30%",backgroundColor:"orange"}},{name:"button",style:{width:"30%",backgroundColor:"green"}}];var be=()=>["dropArea"],he=t=>({backgroundColor:t}),_e=(t,e)=>e.name;function ve(t,e){if(t&1&&(a(0,"div",1),m(1),l()),t&2){let o=e.$implicit;c("cdkDragData",o)("ngStyle",E(3,he,o.style.backgroundColor)),d(),w(" ",o.name," ")}}var F=class t{controls=b(ue);static \u0275fac=function(o){return new(o||t)};static \u0275cmp=y({type:t,selectors:[["available-controls"]],decls:3,vars:3,consts:[["id","sidebar","cdkDropList","",3,"cdkDropListData","cdkDropListConnectedTo"],["cdkDrag","",1,"component-item",3,"cdkDragData","ngStyle"]],template:function(o,n){o&1&&(a(0,"div",0),D(1,ve,2,5,"div",1,_e),l()),o&2&&(c("cdkDropListData",n.controls())("cdkDropListConnectedTo",I(2,be)),d(),k(n.controls()))},dependencies:[L,S,M,z,R],styles:["#sidebar[_ngcontent-%COMP%]{width:200px;background-color:#f0f0f0;padding:20px;border-right:1px solid #ccc}.component-item[_ngcontent-%COMP%]{background-color:#e0e0e0;padding:10px;margin-bottom:10px;cursor:move;border-radius:5px}"]})};var De=()=>[],ke=(t,e)=>({width:t,backgroundColor:e}),we=t=>({width:t}),Ie=(t,e)=>e.id;function Ee(t,e){if(t&1&&v(0,"div",8),t&2){let o=x().$implicit;c("ngStyle",E(1,we,o.style.width))}}function Se(t,e){if(t&1){let o=U();a(0,"div",4),g("click",function(){let i=h(o).$implicit,r=x();return _(r.onEditControl(i))}),a(1,"button",5),g("click",function(i){let r=h(o).$implicit,u=x();return _(u.increaseWidth(i,r.id,2))}),m(2,"+"),l(),a(3,"button",5),g("click",function(i){let r=h(o).$implicit,u=x();return _(u.decreaseWidth(i,r.id,2))}),m(4,"-"),l(),A(5,Ee,1,3,"div",6),m(6),a(7,"button",7),g("click",function(i){let r=h(o).$implicit,u=x();return _(u.remove(i,r.id))}),m(8,"x"),l()()}if(t&2){let o=e.$implicit;c("ngStyle",B(3,ke,o.style.width,o.style.backgroundColor))("enableGhostResize",!0),d(6),w(" ",o.name," ")}}function Le(t,e){t&1&&v(0,"empty-area")}function Re(t,e){if(t&1){let o=U();a(0,"div",3)(1,"control-editor",9),g("layoutConfigChange",function(i){h(o);let r=x();return _(r.onConfigurationChanged(i))}),l()()}if(t&2){let o=x();d(),c("selectedItem",o.selectedItem)}}var N=class t{layoutConfig=b(pe);selectedItem=b(null);increaseWidth(e,o,n){e.stopPropagation();let i=this.layoutConfig().findIndex(r=>r.id===o);if(i!==-1){let r=this.layoutConfig()[i],u=`${parseInt(r.style.width,10)+n}%`,P=C(f({},r),{style:C(f({},r.style),{width:u})});this.layoutConfig.set([...this.layoutConfig().slice(0,i),P,...this.layoutConfig().slice(i+1)])}}decreaseWidth(e,o,n){e.stopPropagation();let i=this.layoutConfig().findIndex(r=>r.id===o);if(i!==-1){let r=this.layoutConfig()[i],u=`${Math.max(0,parseInt(r.style.width,10)-n)}%`,P=C(f({},r),{style:C(f({},r.style),{width:u})});this.layoutConfig.set([...this.layoutConfig().slice(0,i),P,...this.layoutConfig().slice(i+1)])}}remove(e,o){e.stopPropagation();let n=this.layoutConfig().findIndex(r=>r.id===o),i=this.layoutConfig().findIndex(r=>r.id===this.selectedItem()?.id);n>-1&&this.layoutConfig().splice(n,1),i===n&&this.selectedItem.set(null)}drop(e){if(e.previousContainer===e.container)Y(this.layoutConfig(),e.previousIndex,e.currentIndex);else{let o=f({},e.previousContainer.data[e.previousIndex]);this.layoutConfig().splice(e.currentIndex,0,C(f({},o),{id:p()}))}}onEditControl(e){this.selectedItem.set(e)}onConfigurationChanged(e){this.layoutConfig.set(this.layoutConfig().map(o=>o.id===e.id?e:o))}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=y({type:t,selectors:[["app-resize"]],decls:7,vars:5,consts:[[1,"flex","flex-wrap"],["cdkDropList","","id","dropArea","cdkDropListOrientation","mixed",1,"drop-area","flex","flex-wrap",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],["cdkDrag","","mwlResizable","",1,"relative","mb-2","p-4",3,"ngStyle","enableGhostResize"],["id","rightSidebar",1,"w-64","p-4","bg-gray-100","border-l"],["cdkDrag","","mwlResizable","",1,"relative","mb-2","p-4",3,"click","ngStyle","enableGhostResize"],[1,"bg-blue-500","text-white","font-bold","px-2","mx-1","rounded",3,"click"],["class","placeholder",3,"ngStyle",4,"cdkDragPlaceholder"],[1,"remove-button",3,"click"],[1,"placeholder",3,"ngStyle"],[3,"layoutConfigChange","selectedItem"]],template:function(o,n){o&1&&(a(0,"div",0),v(1,"available-controls"),a(2,"div",1),g("cdkDropListDropped",function(r){return n.drop(r)}),D(3,Se,9,6,"div",2,Ie,!1,Le,1,0,"empty-area"),l(),A(6,Re,2,1,"div",3),l()),o&2&&(d(2),c("cdkDropListData",n.layoutConfig())("cdkDropListConnectedTo",I(4,De)),d(),k(n.layoutConfig()),d(3),X(n.selectedItem()?6:-1))},dependencies:[L,S,M,z,R,Z,Q,K,T,V,F],styles:[".remove-button[_ngcontent-%COMP%]{position:absolute;top:0;right:7px;color:#fff;cursor:pointer}.drop-area[_ngcontent-%COMP%]{flex:1;padding:2px;border:2px dashed #bbb;min-height:200px;background-color:#f9f9f9}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;min-width:100px}"]})};var vt=[{path:"",component:N}];export{vt as resizeRoutes};
