import{a as Wn,b as Rn,c as Bt}from"./chunk-BXPOS6SN.js";import{$a as g,$c as Fn,A as Ot,Aa as T,Ab as m,Bb as Ee,Cb as J,Da as Sn,F as Vt,Fa as bn,G as yn,H as wn,I as nt,Ia as H,Ib as S,Ic as $e,J as _e,Ja as Ie,Jb as M,Kb as Y,Ma as me,N as _n,Nb as Mn,Ob as G,Oc as $,Pb as z,Q as Be,Qb as h,Qc as ue,R as Dn,Rc as fe,Sc as Se,U as Cn,Vb as j,W as Ht,Wb as de,Wc as Ne,Xb as ze,Xc as te,Ya as at,Yb as It,Yc as In,Z as He,Zc as dt,a as Z,aa as it,ad as je,b as et,ba as Tn,c as mn,ca as En,cb as xn,cc as K,da as Pe,dc as ke,eb as Te,ec as X,fb as E,fc as lt,gc as On,hb as ot,hc as Ft,i as tt,ic as Vn,ja as De,jc as Hn,ka as he,kb as q,kc as Wt,l as le,lb as ve,lc as L,m as hn,ma as kn,mb as ie,mc as Rt,n as vn,nb as st,nc as ae,oa as rt,oc as ce,pb as I,pc as ee,tc as Le,u as fn,vc as At,y as Q,ya as Ce,z as gn,za as C,zb as re}from"./chunk-IHVPKYJR.js";var oe=function(){return oe=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++){i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},oe.apply(this,arguments)},Pt=function(t,i,e){if(e||arguments.length===2)for(var n=0,r=i.length,a;n<r;n++)(a||!(n in i))&&(a||(a=Array.prototype.slice.call(i,0,n)),a[n]=i[n]);return t.concat(a||Array.prototype.slice.call(i))},pt=function(t){return t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY",t}(pt||{}),wi=[pt.SUNDAY,pt.SATURDAY],zt=7,Lt=24,ct=60,ge=60*60*24;function An(t,i){var e=i.startDate,n=i.seconds,r=i.excluded,a=i.precision;if(r.length<1)return 0;for(var o=t.addSeconds,s=t.getDay,l=t.addDays,d=o(e,n-1),c=s(e),u=s(d),w=0,p=e,_=function(){var k=s(p);r.some(function(y){return y===k})&&(w+=_i(t,{dayStart:c,dayEnd:u,day:k,precision:a,startDate:e,endDate:d})),p=l(p,1)};p<d;)_();return w}function _i(t,i){var e=i.precision,n=i.day,r=i.dayStart,a=i.dayEnd,o=i.startDate,s=i.endDate,l=t.differenceInSeconds,d=t.endOfDay,c=t.startOfDay;if(e==="minutes"){if(n===r)return l(d(o),o)+1;if(n===a)return l(s,c(s))+1}return ge}function Di(t,i){var e=i.event,n=i.offset,r=i.startOfWeekDate,a=i.excluded,o=i.precision,s=i.totalDaysInView,l=t.max,d=t.differenceInSeconds,c=t.addDays,u=t.endOfDay,w=t.differenceInDays,p=ge,_=l([e.start,r]);if(e.end)switch(o){case"minutes":p=d(e.end,_);break;default:p=w(c(u(e.end),1),_)*ge;break}var k=n*ge,y=k+p,b=s*ge;return y>b&&(p=b-k),p-=An(t,{startDate:_,seconds:p,excluded:a,precision:o}),p/ge}function Ci(t,i){var e=i.event,n=i.startOfWeek,r=i.excluded,a=i.precision,o=t.differenceInDays,s=t.startOfDay,l=t.differenceInSeconds;if(e.start<n)return 0;var d=0;switch(a){case"days":d=o(s(e.start),n)*ge;break;case"minutes":d=l(e.start,n);break}return d-=An(t,{startDate:n,seconds:d,excluded:r,precision:a}),Math.abs(d/ge)}function Ti(t,i){var e=i.event,n=i.periodStart,r=i.periodEnd,a=t.isSameSecond,o=e.start,s=e.end||e.start;return!!(o>n&&o<r||s>n&&s<r||o<n&&s>r||a(o,n)||a(o,r)||a(s,n)||a(s,r))}function Ye(t,i){var e=i.events,n=i.periodStart,r=i.periodEnd;return e.filter(function(a){return Ti(t,{event:a,periodStart:n,periodEnd:r})})}function Bn(t,i){var e=i.date,n=i.weekendDays,r=n===void 0?wi:n,a=t.startOfDay,o=t.isSameDay,s=t.getDay,l=a(new Date),d=s(e);return{date:e,day:d,isPast:e<l,isToday:o(e,l),isFuture:e>l,isWeekend:r.indexOf(d)>-1}}function vt(t,i){for(var e=i.viewDate,n=i.weekStartsOn,r=i.excluded,a=r===void 0?[]:r,o=i.weekendDays,s=i.viewStart,l=s===void 0?t.startOfWeek(e,{weekStartsOn:n}):s,d=i.viewEnd,c=d===void 0?t.addDays(l,zt):d,u=t.addDays,w=t.getDay,p=[],_=l;_<c;)a.some(function(k){return w(_)===k})||p.push(Bn(t,{date:_,weekendDays:o})),_=u(_,1);return p}function Ei(t,i){for(var e=i.date1,n=i.date2,r=i.excluded,a=e,o=0;a<n;)r.indexOf(t.getDay(a))===-1&&o++,a=t.addDays(a,1);return o}function ki(t,i){var e=i.events,n=e===void 0?[]:e,r=i.excluded,a=r===void 0?[]:r,o=i.precision,s=o===void 0?"days":o,l=i.absolutePositionedEvents,d=l===void 0?!1:l,c=i.viewStart,u=i.viewEnd;c=t.startOfDay(c),u=t.endOfDay(u);var w=t.differenceInSeconds,p=t.differenceInDays,_=Ei(t,{date1:c,date2:u,excluded:a}),k=p(u,c)+1,y=n.filter(function(D){return D.allDay}).map(function(D){var V=Ci(t,{event:D,startOfWeek:c,excluded:a,precision:s}),R=Di(t,{event:D,offset:V,startOfWeekDate:c,excluded:a,precision:s,totalDaysInView:k});return{event:D,offset:V,span:R}}).filter(function(D){return D.offset<_}).filter(function(D){return D.span>0}).map(function(D){return{event:D.event,offset:D.offset,span:D.span,startsBeforeWeek:D.event.start<c,endsAfterWeek:(D.event.end||D.event.start)>u}}).sort(function(D,V){var R=w(D.event.start,V.event.start);return R===0?w(V.event.end||V.event.start,D.event.end||D.event.start):R}),b=[],x=[];return y.forEach(function(D,V){if(x.indexOf(D)===-1){x.push(D);var R=D.span+D.offset,B=y.slice(V+1).filter(function(O){if(O.offset>=R&&R+O.span<=k&&x.indexOf(O)===-1){var F=O.offset-R;return d||(O.offset=F),R+=O.span+F,x.push(O),!0}}),N=Pt([D],B,!0),W=N.filter(function(O){return O.event.id}).map(function(O){return O.event.id}).join("-");b.push(oe({row:N},W?{id:W}:{}))}}),b}function Si(t,i){var e=i.events,n=i.viewDate,r=i.hourSegments,a=i.hourDuration,o=i.dayStart,s=i.dayEnd,l=i.weekStartsOn,d=i.excluded,c=i.weekendDays,u=i.segmentHeight,w=i.viewStart,p=i.viewEnd,_=i.minimumEventHeight,k=xi(t,{viewDate:n,hourSegments:r,hourDuration:a,dayStart:o,dayEnd:s}),y=vt(t,{viewDate:n,weekStartsOn:l,excluded:d,weekendDays:c,viewStart:w,viewEnd:p}),b=t.setHours,x=t.setMinutes,D=t.getHours,V=t.getMinutes;return y.map(function(R){var B=bi(t,{events:e,viewDate:R.date,hourSegments:r,dayStart:o,dayEnd:s,segmentHeight:u,eventWidth:1,hourDuration:a,minimumEventHeight:_}),N=k.map(function(F){var f=F.segments.map(function(v){var P=x(b(R.date,D(v.date)),V(v.date));return oe(oe({},v),{date:P})});return oe(oe({},F),{segments:f})});function W(F,f){var v=Math.max.apply(Math,f.map(function(A){return A.left+1})),P=F.filter(function(A){return A.left>=v}).filter(function(A){return ut(f,A.top,A.top+A.height).length>0});return P.length>0?W(F,P):v}var O=B.events.map(function(F){var f=W(B.events,ut(B.events,F.top,F.top+F.height)),v=100/f;return oe(oe({},F),{left:F.left*v,width:v})});return{hours:N,date:R.date,events:O.map(function(F){var f=ut(O.filter(function(v){return v.left>F.left}),F.top,F.top+F.height);return f.length>0?oe(oe({},F),{width:Math.min.apply(Math,f.map(function(v){return v.left}))-F.left}):F})}})}function Pn(t,i){var e=i.events,n=e===void 0?[]:e,r=i.viewDate,a=i.weekStartsOn,o=i.excluded,s=o===void 0?[]:o,l=i.precision,d=l===void 0?"days":l,c=i.absolutePositionedEvents,u=c===void 0?!1:c,w=i.hourSegments,p=i.hourDuration,_=i.dayStart,k=i.dayEnd,y=i.weekendDays,b=i.segmentHeight,x=i.minimumEventHeight,D=i.viewStart,V=D===void 0?t.startOfWeek(r,{weekStartsOn:a}):D,R=i.viewEnd,B=R===void 0?t.endOfWeek(r,{weekStartsOn:a}):R;n||(n=[]);var N=t.startOfDay,W=t.endOfDay;V=N(V),B=W(B);var O=Ye(t,{events:n,periodStart:V,periodEnd:B}),F=vt(t,{viewDate:r,weekStartsOn:a,excluded:s,weekendDays:y,viewStart:V,viewEnd:B});return{allDayEventRows:ki(t,{events:O,excluded:s,precision:d,absolutePositionedEvents:u,viewStart:V,viewEnd:B}),period:{events:O,start:F[0].date,end:W(F[F.length-1].date)},hourColumns:Si(t,{events:n,viewDate:r,hourSegments:w,hourDuration:p,dayStart:_,dayEnd:k,weekStartsOn:a,excluded:s,weekendDays:y,segmentHeight:b,viewStart:V,viewEnd:B,minimumEventHeight:x})}}function zn(t,i){var e=i.events,n=e===void 0?[]:e,r=i.viewDate,a=i.weekStartsOn,o=i.excluded,s=o===void 0?[]:o,l=i.viewStart,d=l===void 0?t.startOfMonth(r):l,c=i.viewEnd,u=c===void 0?t.endOfMonth(r):c,w=i.weekendDays;n||(n=[]);for(var p=t.startOfWeek,_=t.endOfWeek,k=t.differenceInDays,y=t.startOfDay,b=t.addHours,x=t.endOfDay,D=t.isSameMonth,V=t.getDay,R=p(d,{weekStartsOn:a}),B=_(u,{weekStartsOn:a}),N=Ye(t,{events:n,periodStart:R,periodEnd:B}),W=[],O,F=function(bt){var U;if(O?(U=y(b(O,Lt)),O.getTime()===U.getTime()&&(U=y(b(O,Lt+1))),O=U):U=O=R,!s.some(function(xt){return V(U)===xt})){var Ve=Bn(t,{date:U,weekendDays:w}),ne=Ye(t,{events:N,periodStart:y(U),periodEnd:x(U)});Ve.inMonth=D(U,r),Ve.events=ne,Ve.badgeTotal=ne.length,W.push(Ve)}},f=0;f<k(B,R)+1;f++)F(f);var v=[],P=zt-s.length;if(P<zt)for(var f=0;f<W.length;f+=P){var A=W.slice(f,f+P),kt=A.some(function(U){return d<=U.date&&U.date<u});kt&&(v=Pt(Pt([],v,!0),A,!0))}else v=W;for(var St=Math.floor(v.length/P),Je=[],f=0;f<St;f++)Je.push(f*P);return{rowOffsets:Je,totalDaysVisibleInWeek:P,days:v,period:{start:v[0].date,end:x(v[v.length-1].date),events:N}}}function ut(t,i,e){return t.filter(function(n){var r=n.top,a=n.top+n.height;return i<a&&a<e||i<r&&r<e?!0:r<=i&&e<=a})}function bi(t,i){var e=i.events,n=i.viewDate,r=i.hourSegments,a=i.dayStart,o=i.dayEnd,s=i.eventWidth,l=i.segmentHeight,d=i.hourDuration,c=i.minimumEventHeight,u=t.setMinutes,w=t.setHours,p=t.startOfDay,_=t.startOfMinute,k=t.endOfDay,y=t.differenceInMinutes,b=u(w(p(n),mt(a.hour)),ht(a.minute)),x=u(w(_(k(n)),mt(o.hour)),ht(o.minute));x.setSeconds(59,999);var D=[],V=Ye(t,{events:e.filter(function(W){return!W.allDay}),periodStart:b,periodEnd:x}),R=V.sort(function(W,O){return W.start.valueOf()-O.start.valueOf()}).map(function(W){var O=W.start,F=W.end||O,f=O<b,v=F>x,P=r*l/(d||ct),A=0;if(O>b){var kt=t.getTimezoneOffset(O),St=t.getTimezoneOffset(b),Je=St-kt;A+=y(O,b)+Je}A*=P,A=Math.floor(A);var bt=f?b:O,U=v?x:F,Ve=t.getTimezoneOffset(bt)-t.getTimezoneOffset(U),ne=y(U,bt)+Ve;W.end?ne*=P:ne=l,c&&ne<c&&(ne=c),ne=Math.floor(ne);for(var xt=A+ne,gi=ut(D,A,xt),Mt=0;gi.some(function(yi){return yi.left===Mt});)Mt+=s;var pn={event:W,height:ne,width:s,top:A,left:Mt,startsBeforeDay:f,endsAfterDay:v};return D.push(pn),pn}),B=Math.max.apply(Math,R.map(function(W){return W.left+W.width})),N=Ye(t,{events:e.filter(function(W){return W.allDay}),periodStart:p(b),periodEnd:k(x)});return{events:R,width:B,allDayEvents:N,period:{events:V,start:b,end:x}}}function mt(t){return Math.max(Math.min(23,t),0)}function ht(t){return Math.max(Math.min(59,t),0)}function xi(t,i){var e=i.viewDate,n=i.hourSegments,r=i.hourDuration,a=i.dayStart,o=i.dayEnd,s=t.setMinutes,l=t.setHours,d=t.startOfDay,c=t.startOfMinute,u=t.endOfDay,w=t.addMinutes,p=t.addDays,_=[],k=s(l(d(e),mt(a.hour)),ht(a.minute)),y=s(l(c(u(e)),mt(o.hour)),ht(o.minute)),b=(r||ct)/n,x=d(e),D=u(e),V=function(F){return F};t.getTimezoneOffset(x)!==t.getTimezoneOffset(D)&&(x=p(x,1),k=p(k,1),y=p(y,1),V=function(F){return p(F,-1)});for(var R=r?Lt*60/r:ct,B=0;B<R;B++){for(var N=[],W=0;W<n;W++){var O=w(w(k,B*(r||ct)),W*b);O>=k&&O<y&&N.push({date:V(O),displayDate:O,isStart:W===0})}N.length>0&&_.push({segments:N})}return _}var Fe=function(t){return t.NotArray="Events must be an array",t.StartPropertyMissing="Event is missing the `start` property",t.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",t.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",t.EndsBeforeStart="Event `start` property occurs after the `end`",t}(Fe||{});function Ln(t,i){var e=!0;function n(r,a){i(r,a),e=!1}return Array.isArray(t)?(t.forEach(function(r){r.start?r.start instanceof Date||n(Fe.StartPropertyNotDate,r):n(Fe.StartPropertyMissing,r),r.end&&(r.end instanceof Date||n(Fe.EndPropertyNotDate,r),r.start>r.end&&n(Fe.EndsBeforeStart,r))}),e):(i(Fe.NotArray,t),!1)}var Mi=function(){function t(){}return t.prototype.getAllStyles=function(i){return window.getComputedStyle(i)},t.prototype.getStyle=function(i,e){return this.getAllStyles(i)[e]},t.prototype.isStaticPositioned=function(i){return(this.getStyle(i,"position")||"static")==="static"},t.prototype.offsetParent=function(i){for(var e=i.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(i,e){e===void 0&&(e=!0);var n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if(this.getStyle(i,"position")==="fixed")n=i.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var a=this.offsetParent(i);n=this.offset(i,!1),a!==document.documentElement&&(r=this.offset(a,!1)),r.top+=a.clientTop,r.left+=a.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},t.prototype.offset=function(i,e){e===void 0&&(e=!0);var n=i.getBoundingClientRect(),r={top:window.pageYOffset-document.documentElement.clientTop,left:window.pageXOffset-document.documentElement.clientLeft},a={height:n.height||i.offsetHeight,width:n.width||i.offsetWidth,top:n.top+r.top,bottom:n.bottom+r.top,left:n.left+r.left,right:n.right+r.left};return e&&(a.height=Math.round(a.height),a.width=Math.round(a.width),a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a},t.prototype.positionElements=function(i,e,n,r){var a=n.split("-"),o=a[0],s=o===void 0?"top":o,l=a[1],d=l===void 0?"center":l,c=r?this.offset(i,!1):this.position(i,!1),u=this.getAllStyles(e),w=parseFloat(u.marginTop),p=parseFloat(u.marginBottom),_=parseFloat(u.marginLeft),k=parseFloat(u.marginRight),y=0,b=0;switch(s){case"top":y=c.top-(e.offsetHeight+w+p);break;case"bottom":y=c.top+c.height;break;case"left":b=c.left-(e.offsetWidth+_+k);break;case"right":b=c.left+c.width;break}switch(d){case"top":y=c.top;break;case"bottom":y=c.top+c.height-e.offsetHeight;break;case"left":b=c.left;break;case"right":b=c.left+c.width-e.offsetWidth;break;case"center":s==="top"||s==="bottom"?b=c.left+c.width/2-e.offsetWidth/2:y=c.top+c.height/2-e.offsetHeight/2;break}e.style.transform="translate("+Math.round(b)+"px, "+Math.round(y)+"px)";var x=e.getBoundingClientRect(),D=document.documentElement,V=window.innerHeight||D.clientHeight,R=window.innerWidth||D.clientWidth;return x.left>=0&&x.top>=0&&x.right<=R&&x.bottom<=V},t}();var Oi=/\s+/,$n=new Mi;function $t(t,i,e,n,r){var a=Array.isArray(e)?e:e.split(Oi),o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],s=i.classList,l=function(y){var b=y.split("-"),x=b[0],D=b[1],V=[];return r&&(V.push(r+"-"+x),D&&V.push(r+"-"+x+"-"+D),V.forEach(function(R){s.add(R)})),V};r&&o.forEach(function(y){s.remove(r+"-"+y)});var d=a.findIndex(function(y){return y==="auto"});d>=0&&o.forEach(function(y){a.find(function(b){return b.search("^"+y)!==-1})==null&&a.splice(d++,1,y)});var c=i.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";for(var u,w=!1,p=0,_=a;p<_.length;p++){u=_[p];var k=l(u);if($n.positionElements(t,i,u,n)){w=!0;break}r&&k.forEach(function(y){s.remove(y)})}return w||(u=a[0],l(u),$n.positionElements(t,i,u,n)),u}function Vi(t,i){return typeof t>"u"?typeof i>"u"?t:i:t}function Xt(t,i){return t=Vi(t,i),typeof t=="function"?function(){for(var n=arguments,r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=n[o];return!!t.apply(this,a)}:t?function(){return!0}:function(){return!1}}var Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol?"symbol":typeof t},jn=function(t){return t!=null&&(typeof t>"u"?"undefined":Nt(t))==="object"&&t.nodeType===1&&Nt(t.style)==="object"&&Nt(t.ownerDocument)==="object"};function Yn(t,i){if(i=Kt(i,!0),!jn(i))return-1;for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1}function Ut(t,i){return Yn(t,i)!==-1}function Hi(t,i){for(var e=0;e<i.length;e++)Ut(t,i[e])||t.push(i[e]);return i}function Ii(t){for(var i=arguments,e=[],n=arguments.length-1;n-- >0;)e[n]=i[n+1];return e=e.map(Kt),Hi(t,e)}function Fi(t){for(var i=arguments,e=[],n=arguments.length-1;n-- >0;)e[n]=i[n+1];return e.map(Kt).reduce(function(r,a){var o=Yn(t,a);return o!==-1?r.concat(t.splice(o,1)):r},[])}function Kt(t,i){if(typeof t=="string")try{return document.querySelector(t)}catch(e){throw e}if(!jn(t)&&!i)throw new TypeError(t+" is not a DOM element.");return t}function Wi(t,i){i=i||{};var e=Xt(i.allowUpdate,!0);return function(r){if(r=r||window.event,t.target=r.target||r.srcElement||r.originalTarget,t.element=this,t.type=r.type,!!e(r)){if(r.targetTouches)t.x=r.targetTouches[0].clientX,t.y=r.targetTouches[0].clientY,t.pageX=r.targetTouches[0].pageX,t.pageY=r.targetTouches[0].pageY,t.screenX=r.targetTouches[0].screenX,t.screenY=r.targetTouches[0].screenY;else{if(r.pageX===null&&r.clientX!==null){var a=r.target&&r.target.ownerDocument||document,o=a.documentElement,s=a.body;t.pageX=r.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),t.pageY=r.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}else t.pageX=r.pageX,t.pageY=r.pageY;t.x=r.clientX,t.y=r.clientY,t.screenX=r.screenX,t.screenY=r.screenY}t.clientX=t.x,t.clientY=t.y}}}function Ri(){var t={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},t);var i={};return Object.defineProperties(i,t),i}function Xn(t){if(t===window)return Ri();try{var i=t.getBoundingClientRect();return i.x===void 0&&(i.x=i.left,i.y=i.top),i}catch{throw new TypeError("Can't call getBoundingClientRect on "+t)}}function Ai(t,i){var e=Xn(i);return t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right}var Gt=void 0;typeof Object.create!="function"?Gt=function(t){var i=function(){};return function(e,n){if(e!==Object(e)&&e!==null)throw TypeError("Argument must be an object, or null");i.prototype=e||{};var r=new i;return i.prototype=null,n!==t&&Object.defineProperties(r,n),e===null&&(r.__proto__=null),r}}():Gt=Object.create;var Bi=Gt,be=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Pi(t){var i={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};t!==void 0&&t.addEventListener("mousemove",e);function e(a){for(var o=0;o<be.length;o++)i[be[o]]=a[be[o]]}var n=function(){if(MouseEvent)return function(o,s,l){var d=new MouseEvent("mousemove",jt(i,s));return Yt(d,l),o.dispatchEvent(d)};if(typeof document.createEvent=="function")return function(o,s,l){var d=jt(i,s),c=document.createEvent("MouseEvents");return c.initMouseEvent("mousemove",!0,!0,window,0,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),Yt(c,l),o.dispatchEvent(c)};if(typeof document.createEventObject=="function")return function(o,s,l){var d=document.createEventObject(),c=jt(i,s);for(var u in c)d[u]=c[u];return Yt(d,l),o.dispatchEvent(d)}}();function r(){t&&t.removeEventListener("mousemove",e,!1),i=null}return{destroy:r,dispatch:n}}function jt(t,i){i=i||{};for(var e=Bi(t),n=0;n<be.length;n++)i[be[n]]!==void 0&&(e[be[n]]=i[be[n]]);return e}function Yt(t,i){console.log("data ",i),t.data=i||{},t.dispatched="mousemove"}var Ue=["webkit","moz","ms","o"],Xe=function(){if(typeof window>"u")return function(){};for(var t=0,i=Ue.length;t<i&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[Ue[t]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(n){var r=new Date().getTime(),a=Math.max(0,16-r-e),o=window.setTimeout(function(){return n(r+a)},a);return e=r+a,o}}return window.requestAnimationFrame.bind(window)}(),We=function(){if(typeof window>"u")return function(){};for(var t=0,i=Ue.length;t<i&&!window.cancelAnimationFrame;++t)window.cancelAnimationFrame=window[Ue[t]+"CancelAnimationFrame"]||window[Ue[t]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function zi(t,i){i===void 0&&(i={});var e=this,n=4,r=!1;if(typeof i.margin!="object"){var a=i.margin||-1;this.margin={left:a,right:a,top:a,bottom:a}}else this.margin=i.margin;this.scrollWhenOutside=i.scrollWhenOutside||!1;var o={},s=Wi(o),l=Pi(),d=!1;window.addEventListener("mousemove",s,!1),window.addEventListener("touchmove",s,!1),isNaN(i.maxSpeed)||(n=i.maxSpeed),typeof n!="object"&&(n={left:n,right:n,top:n,bottom:n}),this.autoScroll=Xt(i.autoScroll),this.syncMove=Xt(i.syncMove,!1),this.destroy=function(f){window.removeEventListener("mousemove",s,!1),window.removeEventListener("touchmove",s,!1),window.removeEventListener("mousedown",k,!1),window.removeEventListener("touchstart",k,!1),window.removeEventListener("mouseup",y,!1),window.removeEventListener("touchend",y,!1),window.removeEventListener("pointerup",y,!1),window.removeEventListener("mouseleave",x,!1),window.removeEventListener("mousemove",R,!1),window.removeEventListener("touchmove",R,!1),window.removeEventListener("scroll",_,!0),t=[],f&&b()},this.add=function(){for(var f=[],v=arguments.length;v--;)f[v]=arguments[v];return Ii.apply(void 0,[t].concat(f)),this},this.remove=function(){for(var f=[],v=arguments.length;v--;)f[v]=arguments[v];return Fi.apply(void 0,[t].concat(f))};var c=null,u;Object.prototype.toString.call(t)!=="[object Array]"&&(t=[t]),function(f){t=[],f.forEach(function(v){v===window?c=window:e.add(v)})}(t),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return n}},point:{get:function(){return o}},scrolling:{get:function(){return r}}});var w=null,p;window.addEventListener("mousedown",k,!1),window.addEventListener("touchstart",k,!1),window.addEventListener("mouseup",y,!1),window.addEventListener("touchend",y,!1),window.addEventListener("pointerup",y,!1),window.addEventListener("mousemove",R,!1),window.addEventListener("touchmove",R,!1),window.addEventListener("mouseleave",x,!1),window.addEventListener("scroll",_,!0);function _(f){for(var v=0;v<t.length;v++)if(t[v]===f.target){r=!0;break}r&&Xe(function(){return r=!1})}function k(){d=!0}function y(){d=!1,b()}function b(){We(p),We(u)}function x(){d=!1}function D(f){if(!f)return null;if(w===f||Ut(t,f))return f;for(;f=f.parentNode;)if(Ut(t,f))return f;return null}function V(){for(var f=null,v=0;v<t.length;v++)Nn(o,t[v])&&(f=t[v]);return f}function R(f){if(e.autoScroll()&&!f.dispatched){var v=f.target,P=document.body;w&&!Nn(o,w)&&(e.scrollWhenOutside||(w=null)),v&&v.parentNode===P?v=V():(v=D(v),v||(v=V())),v&&v!==w&&(w=v),c&&(We(u),u=Xe(B)),w&&(We(p),p=Xe(N))}}function B(){W(c),We(u),u=Xe(B)}function N(){w&&(W(w),We(p),p=Xe(N))}function W(f){var v=Xn(f),P,A;o.x<v.left+e.margin.left?P=Math.floor(Math.max(-1,(o.x-v.left)/e.margin.left-1)*e.maxSpeed.left):o.x>v.right-e.margin.right?P=Math.ceil(Math.min(1,(o.x-v.right)/e.margin.right+1)*e.maxSpeed.right):P=0,o.y<v.top+e.margin.top?A=Math.floor(Math.max(-1,(o.y-v.top)/e.margin.top-1)*e.maxSpeed.top):o.y>v.bottom-e.margin.bottom?A=Math.ceil(Math.min(1,(o.y-v.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):A=0,e.syncMove()&&l.dispatch(f,{pageX:o.pageX+P,pageY:o.pageY+A,clientX:o.x+P,clientY:o.y+A}),setTimeout(function(){A&&O(f,A),P&&F(f,P)})}function O(f,v){f===window?window.scrollTo(f.pageXOffset,f.pageYOffset+v):f.scrollTop+=v}function F(f,v){f===window?window.scrollTo(f.pageXOffset+v,f.pageYOffset):f.scrollLeft+=v}}function Li(t,i){return new zi(t,i)}function Nn(t,i,e){return e?t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right:Ai(t,i)}var Un=Li;function qt(t,i,e){e&&e.split(" ").forEach(n=>t.addClass(i.nativeElement,n))}function ft(t,i,e){e&&e.split(" ").forEach(n=>t.removeClass(i.nativeElement,n))}var Kn=(()=>{class t{constructor(){this.currentDrag=new le}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qn=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(E(me))},t.\u0275dir=ie({type:t,selectors:[["","mwlDraggableScrollContainer",""]],standalone:!1}),t})(),gt=(()=>{class t{constructor(e,n,r,a,o,s,l){this.element=e,this.renderer=n,this.draggableHelper=r,this.zone=a,this.vcr=o,this.scrollContainer=s,this.document=l,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new H,this.dragStart=new H,this.ghostElementCreated=new H,this.dragging=new H,this.dragEnd=new H,this.pointerDown$=new le,this.pointerMove$=new le,this.pointerUp$=new le,this.eventListenerSubscriptions={},this.destroy$=new le,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();let e=this.pointerDown$.pipe(_e(()=>this.canDrag()),Ot(n=>{n.event.stopPropagation&&!this.scrollContainer&&n.event.stopPropagation();let r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText(`
          body * {
           -moz-user-select: none;
           -ms-user-select: none;
           -webkit-user-select: none;
           user-select: none;
          }
        `)),requestAnimationFrame(()=>{this.document.head.appendChild(r)});let a=this.getScrollPosition(),o=new tt(p=>{let _=this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window";return this.renderer.listen(_,"scroll",k=>p.next(k))}).pipe(it(a),Q(()=>this.getScrollPosition())),s=new le,l=new vn;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});let d=nt(this.pointerUp$,this.pointerDown$,l,this.destroy$).pipe(He()),c=gn([this.pointerMove$,o]).pipe(Q(([p,_])=>({currentDrag$:s,transformX:p.clientX-n.clientX,transformY:p.clientY-n.clientY,clientX:p.clientX,clientY:p.clientY,scrollLeft:_.left,scrollTop:_.top,target:p.event.target})),Q(p=>(this.dragSnapGrid.x&&(p.transformX=Math.round(p.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(p.transformY=Math.round(p.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),p)),Q(p=>(this.dragAxis.x||(p.transformX=0),this.dragAxis.y||(p.transformY=0),p)),Q(p=>{let _=p.scrollLeft-a.left,k=p.scrollTop-a.top;return et(Z({},p),{x:p.transformX+_,y:p.transformY+k})}),_e(({x:p,y:_,transformX:k,transformY:y})=>!this.validateDrag||this.validateDrag({x:p,y:_,transform:{x:k,y}})),Pe(d),He()),u=c.pipe(Be(1),He()),w=c.pipe(Cn(1),He());return u.subscribe(({clientX:p,clientY:_,x:k,y})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:l})}),this.scroller=Un([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],et(Z({},this.autoScroll),{autoScroll(){return!0}})),qt(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){let b=this.element.nativeElement.getBoundingClientRect(),x=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(x):this.element.nativeElement.parentNode.insertBefore(x,this.element.nativeElement.nextSibling),this.ghostElement=x,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(x,{position:"fixed",top:`${b.top}px`,left:`${b.left}px`,width:`${b.width}px`,height:`${b.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){let D=this.vcr.createEmbeddedView(this.ghostElementTemplate);x.innerHTML="",D.rootNodes.filter(V=>V instanceof Node).forEach(V=>{x.appendChild(V)}),w.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(D))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:p-k,clientY:_-y,element:x})}),w.subscribe(()=>{x.parentElement.removeChild(x),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(s)}),w.pipe(Ot(p=>{let _=l.pipe(_n(),Be(1),Q(k=>et(Z({},p),{dragCancelled:k>0})));return l.complete(),_})).subscribe(({x:p,y:_,dragCancelled:k})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:p,y:_,dragCancelled:k})}),ft(this.renderer,this.element,this.dragActiveClass),s.complete()}),nt(d,w).pipe(Be(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),c}),He());nt(e.pipe(Be(1),Q(n=>[,n])),e.pipe(Ht())).pipe(_e(([n,r])=>n?n.x!==r.x||n.y!==r.y:!0),Q(([n,r])=>r)).subscribe(({x:n,y:r,currentDrag$:a,clientX:o,clientY:s,transformX:l,transformY:d,target:c})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:n,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){let u=`translate3d(${l}px, ${d}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:u,"-webkit-transform":u,"-ms-transform":u,"-moz-transform":u,"-o-transform":u})}}),a.next({clientX:o,clientY:s,dropData:this.dropData,target:c})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){let e=this.canDrag(),n=Object.keys(this.eventListenerSubscriptions).length>0;e&&!n?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&n&&this.unsubscribeEventListeners()}onMouseDown(e){e.button===0&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",n=>{this.pointerMove$.next({event:n,clientX:n.clientX,clientY:n.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){e.button===0&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let n,r,a;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,a=this.hasScrollbar(),n=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){let o=Vt(this.document,"contextmenu").subscribe(l=>{l.preventDefault()}),s=Vt(this.document,"touchmove",{passive:!1}).subscribe(l=>{this.touchStartLongPress&&!r&&a&&(r=this.shouldBeginDrag(e,l,n)),(!this.touchStartLongPress||!a||r)&&(l.preventDefault(),this.pointerMove$.next({event:l,clientX:l.targetTouches[0].clientX,clientY:l.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{o.unsubscribe(),s.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,n){Object.keys(n).forEach(r=>{this.renderer.setStyle(e,r,n[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,n,r){let a=this.getScrollPosition(),o={top:Math.abs(a.top-r.top),left:Math.abs(a.left-r.left)},s=Math.abs(n.targetTouches[0].clientX-e.touches[0].clientX)-o.left,l=Math.abs(n.targetTouches[0].clientY-e.touches[0].clientY)-o.top,d=s+l,c=this.touchStartLongPress;return(d>c.delta||o.top>0||o.left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=c.delay?(this.disableScroll(),!0):!1}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){let e=this.getScrollElement(),n=e.scrollWidth>e.clientWidth,r=e.scrollHeight>e.clientHeight;return n||r}}return t.\u0275fac=function(e){return new(e||t)(E(me),E(Te),E(Kn),E(Ie),E(ot),E(qn,8),E($e))},t.\u0275dir=ie({type:t,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},standalone:!1,features:[Ce]}),t})();function Gn(t,i,e){return t>=e.left&&t<=e.right&&i>=e.top&&i<=e.bottom}var yt=(()=>{class t{constructor(e,n,r,a,o){this.element=e,this.draggableHelper=n,this.zone=r,this.renderer=a,this.scrollContainer=o,this.dragEnter=new H,this.dragLeave=new H,this.dragOver=new H,this.drop=new H}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{qt(this.renderer,this.element,this.dragActiveClass);let n={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{n.updateCache=!0}),a,o=e.pipe(Q(({clientX:d,clientY:c,dropData:u,target:w})=>{a={clientX:d,clientY:c,dropData:u,target:w},n.updateCache&&(n.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(n.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),n.updateCache=!1);let p=Gn(d,c,n.rect),_=!this.validateDrop||this.validateDrop({clientX:d,clientY:c,target:w,dropData:u});return n.scrollContainerRect?p&&_&&Gn(d,c,n.scrollContainerRect):p&&_})),s=o.pipe(Dn()),l;s.pipe(_e(d=>d)).subscribe(()=>{l=!0,qt(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(a)})}),o.pipe(_e(d=>d)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(a)})}),s.pipe(Ht(),_e(([d,c])=>d&&!c)).subscribe(()=>{l=!1,ft(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(a)})}),e.subscribe({complete:()=>{r(),ft(this.renderer,this.element,this.dragActiveClass),l&&(ft(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(a)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(E(me),E(Kn),E(Ie),E(Te),E(qn,8))},t.\u0275dir=ie({type:t,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"},standalone:!1}),t})(),Ge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ve({type:t}),t.\u0275inj=he({}),t})();var xe=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(xe||{}),Qa="*";function Jn(t,i){return{type:xe.Trigger,name:t,definitions:i,options:{}}}function Zt(t,i=null){return{type:xe.Animate,styles:i,timings:t}}function Ja(t,i=null){return{type:xe.Sequence,steps:t,options:i}}function Qt(t){return{type:xe.Style,styles:t,offset:null}}function Jt(t,i,e){return{type:xe.State,name:t,styles:i,options:e}}function en(t,i,e=null){return{type:xe.Transition,expr:t,animation:i,options:e}}var Zn=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(i=0,e=0){this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Qn=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(i){this.players=i;let e=0,n=0,r=0,a=this.players.length;a==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==a&&this._onFinish()}),o.onDestroy(()=>{++n==a&&this._onDestroy()}),o.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((o,s)=>Math.max(o,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){let e=i*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){let i=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return i!=null?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},eo="!";var ji=(t,i)=>({event:t,trackByActionId:i}),Yi=t=>({action:t});function Xi(t,i){if(t&1){let e=G();S(0,"a",5),L(1,"calendarA11y"),z("mwlClick",function(r){let a=C(e).$implicit,o=h(2).event;return T(a.onClick({event:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){let a=C(e).$implicit,o=h(2).event;return T(a.onClick({event:o,sourceEvent:r}))}),M()}if(t&2){let e=i.$implicit;m("ngClass",e.cssClass)("innerHtml",e.label,at),re("aria-label",ae(1,3,ke(6,Yi,e),"actionButtonLabel"))}}function Ui(t,i){if(t&1&&(S(0,"span",3),I(1,Xi,2,8,"a",4),M()),t&2){let e=h(),n=e.event,r=e.trackByActionId;g(),m("ngForOf",n.actions)("ngForTrackBy",r)}}function Gi(t,i){if(t&1&&I(0,Ui,2,2,"span",2),t&2){let e=i.event;m("ngIf",e.actions)}}function Ki(t,i){}var qi=(t,i)=>({event:t,view:i}),Re=()=>({});function Zi(t,i){if(t&1&&(Y(0,"span",2),L(1,"calendarEventTitle"),L(2,"calendarA11y")),t&2){let e=i.event,n=i.view;m("innerHTML",ce(1,2,e.title,n,e),at),re("aria-hidden",ae(2,6,K(9,Re),"hideEventTitle"))}}function Qi(t,i){}var Ji=(t,i,e)=>({contents:t,placement:i,event:e});function er(t,i){if(t&1&&(S(0,"div",2),Y(1,"div",3)(2,"div",4),M()),t&2){let e=i.contents,n=i.placement;m("ngClass","cal-tooltip-"+n),g(2),m("innerHtml",e,at)}}function tr(t,i){}var nr=(t,i,e,n,r,a,o,s,l,d,c,u)=>({day:t,openDay:i,locale:e,tooltipPlacement:n,highlightDay:r,unhighlightDay:a,eventClicked:o,tooltipTemplate:s,tooltipAppendToBody:l,tooltipDelay:d,trackByEventId:c,validateDrag:u}),ir=(t,i)=>({day:t,locale:i}),sn=t=>({backgroundColor:t}),rr=(t,i)=>({event:t,draggedFrom:i}),Ke=(t,i)=>({x:t,y:i}),Dt=()=>({delay:300,delta:30});function ar(t,i){if(t&1&&(S(0,"span",7),de(1),M()),t&2){let e=h().day;g(),ze(e.badgeTotal)}}function or(t,i){if(t&1){let e=G();S(0,"div",10),L(1,"calendarEventTitle"),L(2,"calendarA11y"),z("mouseenter",function(){let r=C(e).$implicit,a=h(2).highlightDay;return T(a.emit({event:r}))})("mouseleave",function(){let r=C(e).$implicit,a=h(2).unhighlightDay;return T(a.emit({event:r}))})("mwlClick",function(r){let a=C(e).$implicit,o=h(2).eventClicked;return T(o.emit({event:a,sourceEvent:r}))}),M()}if(t&2){let e=i.$implicit,n=h(2),r=n.day,a=n.tooltipPlacement,o=n.tooltipTemplate,s=n.tooltipAppendToBody,l=n.tooltipDelay,d=n.validateDrag;J("cal-draggable",e.draggable),m("ngStyle",ke(22,sn,e.color==null?null:e.color.primary))("ngClass",e==null?null:e.cssClass)("mwlCalendarTooltip",ce(1,15,e.title,"monthTooltip",e))("tooltipPlacement",a)("tooltipEvent",e)("tooltipTemplate",o)("tooltipAppendToBody",s)("tooltipDelay",l)("dropData",X(24,rr,e,r))("dragAxis",X(27,Ke,e.draggable,e.draggable))("validateDrag",d)("touchStartLongPress",K(30,Dt)),re("aria-hidden",ae(2,19,K(31,Re),"hideMonthCellEvents"))}}function sr(t,i){if(t&1&&(S(0,"div",8),I(1,or,3,32,"div",9),M()),t&2){let e=h(),n=e.day,r=e.trackByEventId;g(),m("ngForOf",n.events)("ngForTrackBy",r)}}function lr(t,i){if(t&1&&(S(0,"div",2),L(1,"calendarA11y"),S(2,"span",3),I(3,ar,2,1,"span",4),S(4,"span",5),de(5),L(6,"calendarDate"),M()()(),I(7,sr,2,2,"div",6)),t&2){let e=i.day,n=i.locale;re("aria-label",ae(1,4,X(11,ir,e,n),"monthCell")),g(3),m("ngIf",e.badgeTotal>0),g(2),ze(ce(6,7,e.date,"monthViewDayNumber",n)),g(2),m("ngIf",e.events.length>0)}}function dr(t,i){}var cr=(t,i,e,n,r)=>({events:t,eventClicked:i,isOpen:e,trackByEventId:n,validateDrag:r}),ei=(t,i)=>({date:t,locale:i}),ur=t=>({event:t}),ri=(t,i)=>({event:t,locale:i});function pr(t,i){if(t&1){let e=G();S(0,"div",7),Y(1,"span",8),de(2," "),S(3,"mwl-calendar-event-title",9),L(4,"calendarA11y"),z("mwlClick",function(r){let a=C(e).$implicit,o=h(2).eventClicked;return T(o.emit({event:a,sourceEvent:r}))})("mwlKeydownEnter",function(r){let a=C(e).$implicit,o=h(2).eventClicked;return T(o.emit({event:a,sourceEvent:r}))}),M(),de(5," "),Y(6,"mwl-calendar-event-actions",10),M()}if(t&2){let e=i.$implicit,n=h(2).validateDrag,r=h();J("cal-draggable",e.draggable),m("ngClass",e==null?null:e.cssClass)("dropData",ke(16,ur,e))("dragAxis",X(18,Ke,e.draggable,e.draggable))("validateDrag",n)("touchStartLongPress",K(21,Dt)),g(),m("ngStyle",ke(22,sn,e.color==null?null:e.color.primary)),g(2),m("event",e)("customTemplate",r.eventTitleTemplate),re("aria-label",ae(4,13,X(24,ri,e,r.locale),"eventDescription")),g(3),m("event",e)("customTemplate",r.eventActionsTemplate)}}function mr(t,i){if(t&1&&(S(0,"div",3),Y(1,"span",4),L(2,"calendarA11y"),Y(3,"span",5),L(4,"calendarA11y"),I(5,pr,7,27,"div",6),M()),t&2){let e=h(),n=e.events,r=e.trackByEventId,a=h();m("@collapse",void 0),g(),re("aria-label",ae(2,5,X(11,ei,a.date,a.locale),"openDayEventsAlert")),g(2),re("aria-label",ae(4,8,X(14,ei,a.date,a.locale),"openDayEventsLandmark")),g(2),m("ngForOf",n)("ngForTrackBy",r)}}function hr(t,i){if(t&1&&I(0,mr,6,17,"div",2),t&2){let e=i.isOpen;m("ngIf",e)}}function vr(t,i){}var fr=(t,i,e)=>({days:t,locale:i,trackByWeekDayHeaderDate:e});function gr(t,i){if(t&1){let e=G();S(0,"div",4),z("click",function(r){let a=C(e).$implicit,o=h(2);return T(o.columnHeaderClicked.emit({isoDayNumber:a.day,sourceEvent:r}))}),de(1),L(2,"calendarDate"),M()}if(t&2){let e=i.$implicit,n=h().locale;J("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),m("ngClass",e.cssClass),g(),It(" ",ce(2,10,e.date,"monthViewColumnHeader",n)," ")}}function yr(t,i){if(t&1&&(S(0,"div",2),I(1,gr,3,14,"div",3),M()),t&2){let e=i.days,n=i.trackByWeekDayHeaderDate;g(),m("ngForOf",e)("ngForTrackBy",n)}}function wr(t,i){}function _r(t,i){if(t&1){let e=G();S(0,"mwl-calendar-month-cell",7),L(1,"calendarA11y"),z("mwlClick",function(r){let a=C(e).$implicit,o=h(2);return T(o.dayClicked.emit({day:a,sourceEvent:r}))})("mwlKeydownEnter",function(r){let a=C(e).$implicit,o=h(2);return T(o.dayClicked.emit({day:a,sourceEvent:r}))})("highlightDay",function(r){C(e);let a=h(2);return T(a.toggleDayHighlight(r.event,!0))})("unhighlightDay",function(r){C(e);let a=h(2);return T(a.toggleDayHighlight(r.event,!1))})("drop",function(r){let a=C(e).$implicit,o=h(2);return T(o.eventDropped(a,r.dropData.event,r.dropData.draggedFrom))})("eventClicked",function(r){C(e);let a=h(2);return T(a.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))}),M()}if(t&2){let e=i.$implicit,n=h(2);m("ngClass",e==null?null:e.cssClass)("day",e)("openDay",n.openDay)("locale",n.locale)("tooltipPlacement",n.tooltipPlacement)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipTemplate",n.tooltipTemplate)("tooltipDelay",n.tooltipDelay)("customTemplate",n.cellTemplate)("ngStyle",ke(15,sn,e.backgroundColor))("clickListenerDisabled",n.dayClicked.observers.length===0),re("tabindex",ae(1,12,K(17,Re),"monthCellTabIndex"))}}function Dr(t,i){if(t&1){let e=G();S(0,"div")(1,"div",4),I(2,_r,2,18,"mwl-calendar-month-cell",5),L(3,"slice"),M(),S(4,"mwl-calendar-open-day-events",6),z("eventClicked",function(r){C(e);let a=h();return T(a.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))})("drop",function(r){C(e);let a=h();return T(a.eventDropped(a.openDay,r.dropData.event,r.dropData.draggedFrom))}),M()()}if(t&2){let e=i.$implicit,n=h();g(2),m("ngForOf",ce(3,9,n.view.days,e,e+n.view.totalDaysVisibleInWeek))("ngForTrackBy",n.trackByDate),g(2),m("locale",n.locale)("isOpen",n.openRowIndex===e)("events",n.openDay==null?null:n.openDay.events)("date",n.openDay==null?null:n.openDay.date)("customTemplate",n.openDayEventsTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)}}var Cr=(t,i,e,n,r,a)=>({days:t,locale:i,dayHeaderClicked:e,eventDropped:n,dragEnter:r,trackByWeekDayHeaderDate:a});function Tr(t,i){if(t&1){let e=G();S(0,"div",4),z("mwlClick",function(r){let a=C(e).$implicit,o=h().dayHeaderClicked;return T(o.emit({day:a,sourceEvent:r}))})("drop",function(r){let a=C(e).$implicit,o=h().eventDropped;return T(o.emit({event:r.dropData.event,newStart:a.date}))})("dragEnter",function(){let r=C(e).$implicit,a=h().dragEnter;return T(a.emit({date:r.date}))}),S(1,"b"),de(2),L(3,"calendarDate"),M(),Y(4,"br"),S(5,"span"),de(6),L(7,"calendarDate"),M()()}if(t&2){let e=i.$implicit,n=h().locale;J("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),m("ngClass",e.cssClass),g(2),ze(ce(3,11,e.date,"weekViewColumnHeader",n)),g(4),ze(ce(7,15,e.date,"weekViewColumnSubHeader",n))}}function Er(t,i){if(t&1&&(S(0,"div",2),I(1,Tr,8,19,"div",3),M()),t&2){let e=i.days,n=i.trackByWeekDayHeaderDate;g(),m("ngForOf",e)("ngForTrackBy",n)}}function kr(t,i){}var Sr=(t,i,e,n,r,a,o,s,l)=>({weekEvent:t,tooltipPlacement:i,eventClicked:e,tooltipTemplate:n,tooltipAppendToBody:r,tooltipDisabled:a,tooltipDelay:o,column:s,daysInWeek:l}),br=(t,i,e)=>({color:t,backgroundColor:i,borderColor:e});function xr(t,i){if(t&1){let e=G();S(0,"div",2),L(1,"calendarEventTitle"),L(2,"calendarA11y"),z("mwlClick",function(r){let a=C(e).eventClicked;return T(a.emit({sourceEvent:r}))})("mwlKeydownEnter",function(r){let a=C(e).eventClicked;return T(a.emit({sourceEvent:r}))}),Y(3,"mwl-calendar-event-actions",3),de(4," "),Y(5,"mwl-calendar-event-title",4),M()}if(t&2){let e=i.weekEvent,n=i.tooltipPlacement,r=i.tooltipTemplate,a=i.tooltipAppendToBody,o=i.tooltipDisabled,s=i.tooltipDelay,l=i.daysInWeek,d=h();m("ngStyle",lt(20,br,e.event.color==null?null:e.event.color.secondaryText,e.event.color==null?null:e.event.color.secondary,e.event.color==null?null:e.event.color.primary))("mwlCalendarTooltip",o?"":ce(1,13,e.event.title,l===1?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",n)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",r)("tooltipAppendToBody",a)("tooltipDelay",s),re("aria-label",ae(2,17,X(24,ri,e.tempEvent||e.event,d.locale),"eventDescription")),g(3),m("event",e.tempEvent||e.event)("customTemplate",d.eventActionsTemplate),g(2),m("event",e.tempEvent||e.event)("customTemplate",d.eventTitleTemplate)("view",l===1?"day":"week")}}function Mr(t,i){}var Or=(t,i,e,n,r)=>({segment:t,locale:i,segmentHeight:e,isTimeLabel:n,daysInWeek:r});function Vr(t,i){if(t&1&&(S(0,"div",4),de(1),L(2,"calendarDate"),M()),t&2){let e=h(),n=e.segment,r=e.locale,a=e.daysInWeek;g(),It(" ",ce(2,1,n.displayDate,a===1?"dayViewHour":"weekViewHour",r)," ")}}function Hr(t,i){if(t&1&&(S(0,"div",2),L(1,"calendarA11y"),I(2,Vr,3,5,"div",3),M()),t&2){let e=i.segment,n=i.segmentHeight,r=i.isTimeLabel,a=i.daysInWeek;Ee("height",n,"px"),J("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),m("ngClass",e.cssClass),re("aria-hidden",ae(1,9,K(12,Re),a===1?"hideDayHourSegment":"hideWeekHourSegment")),g(2),m("ngIf",r)}}function Ir(t,i){}var Fr=(t,i,e,n,r,a,o)=>({columnDate:t,dayStartHour:i,dayStartMinute:e,dayEndHour:n,dayEndMinute:r,isVisible:a,topPx:o});function Wr(t,i){if(t&1&&Y(0,"div",3),t&2){let e=h().topPx;Ee("top",e,"px")}}function Rr(t,i){if(t&1&&I(0,Wr,1,2,"div",2),t&2){let e=i.isVisible;m("ngIf",e)}}function Ar(t,i){}var Br=(t,i)=>({left:t,right:i}),ai=(t,i)=>({event:t,calendarId:i}),Pr=t=>({x:t}),zr=()=>({left:!0}),Lr=()=>({right:!0}),$r=(t,i,e,n)=>({left:t,right:i,top:e,bottom:n}),Nr=()=>({left:!0,top:!0}),jr=()=>({right:!0,bottom:!0});function Yr(t,i){t&1&&Mn(0)}function Xr(t,i){if(t&1){let e=G();S(0,"div",17),z("drop",function(r){let a=C(e).$implicit,o=h(2);return T(o.eventDropped(r,a.date,!0))})("dragEnter",function(){let r=C(e).$implicit,a=h(2);return T(a.dateDragEnter(r.date))}),M()}}function Ur(t,i){t&1&&Y(0,"div",24),t&2&&m("resizeEdges",K(1,zr))}function Gr(t,i){t&1&&Y(0,"div",25),t&2&&m("resizeEdges",K(1,Lr))}function Kr(t,i){if(t&1){let e=G();S(0,"div",20,3),z("resizeStart",function(r){let a=C(e).$implicit;h();let o=j(1),s=h(2);return T(s.allDayEventResizeStarted(o,a,r))})("resizing",function(r){let a=C(e).$implicit,o=h(3);return T(o.allDayEventResizing(a,r,o.dayColumnWidth))})("resizeEnd",function(){let r=C(e).$implicit,a=h(3);return T(a.allDayEventResizeEnded(r))})("dragStart",function(){let r=C(e).$implicit,a=j(1);h();let o=j(1),s=h(2);return T(s.dragStarted(o,a,r,!1))})("dragging",function(){C(e);let r=h(3);return T(r.allDayEventDragMove())})("dragEnd",function(r){let a=C(e).$implicit,o=h(3);return T(o.dragEnded(a,r,o.dayColumnWidth))}),I(2,Ur,1,2,"div",21),S(3,"mwl-calendar-week-view-event",22),z("eventClicked",function(r){let a=C(e).$implicit,o=h(3);return T(o.eventClicked.emit({event:a.event,sourceEvent:r.sourceEvent}))}),M(),I(4,Gr,1,2,"div",23),M()}if(t&2){let e=i.$implicit,n=h(3);Ee("width",100/n.days.length*e.span,"%")("margin-left",n.rtl?null:100/n.days.length*e.offset,"%")("margin-right",n.rtl?100/n.days.length*e.offset:null,"%"),J("cal-draggable",e.event.draggable&&n.allDayEventResizes.size===0)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),m("ngClass",e.event==null?null:e.event.cssClass)("resizeCursors",n.resizeCursors)("resizeSnapGrid",X(33,Br,n.dayColumnWidth,n.dayColumnWidth))("validateResize",n.validateResize)("dropData",X(36,ai,e.event,n.calendarId))("dragAxis",X(39,Ke,e.event.draggable&&n.allDayEventResizes.size===0,!n.snapDraggedEvents&&e.event.draggable&&n.allDayEventResizes.size===0))("dragSnapGrid",n.snapDraggedEvents?ke(42,Pr,n.dayColumnWidth):K(44,Re))("validateDrag",n.validateDrag)("touchStartLongPress",K(45,Dt)),g(2),m("ngIf",(e.event==null||e.event.resizable==null?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),g(),m("locale",n.locale)("weekEvent",e)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDelay",n.tooltipDelay)("customTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)("daysInWeek",n.daysInWeek),g(),m("ngIf",(e.event==null||e.event.resizable==null?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function qr(t,i){if(t&1&&(S(0,"div",18,2),I(2,Kr,5,46,"div",19),M()),t&2){let e=i.$implicit,n=h(2);g(2),m("ngForOf",e.row)("ngForTrackBy",n.trackByWeekAllDayEvent)}}function Zr(t,i){if(t&1){let e=G();S(0,"div",12,1),z("dragEnter",function(){C(e);let r=h();return T(r.dragEnter("allDay"))})("dragLeave",function(){C(e);let r=h();return T(r.dragLeave("allDay"))}),S(2,"div",10)(3,"div",13),I(4,Yr,1,0,"ng-container",14),M(),I(5,Xr,1,0,"div",15),M(),I(6,qr,3,2,"div",16),M()}if(t&2){let e=h();g(4),m("ngTemplateOutlet",e.allDayEventsLabelTemplate),g(),m("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),g(),m("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function Qr(t,i){if(t&1&&Y(0,"mwl-calendar-week-view-hour-segment",29),t&2){let e=i.$implicit,n=h(3);Ee("height",n.hourSegmentHeight,"px"),m("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",n.daysInWeek)}}function Jr(t,i){if(t&1&&(S(0,"div",27),I(1,Qr,1,8,"mwl-calendar-week-view-hour-segment",28),M()),t&2){let e=i.$implicit,n=i.odd,r=h(2);J("cal-hour-odd",n),g(),m("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function ea(t,i){if(t&1&&(S(0,"div",13),I(1,Jr,2,4,"div",26),M()),t&2){let e=h();g(),m("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}function ta(t,i){t&1&&Y(0,"div",24),t&2&&m("resizeEdges",K(1,Nr))}function na(t,i){}function ia(t,i){if(t&1){let e=G();S(0,"mwl-calendar-week-view-event",36),z("eventClicked",function(r){C(e);let a=h().$implicit,o=h(2);return T(o.eventClicked.emit({event:a.event,sourceEvent:r.sourceEvent}))}),M()}if(t&2){let e=h().$implicit,n=h().$implicit,r=h();m("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",n)("daysInWeek",r.daysInWeek)}}function ra(t,i){t&1&&Y(0,"div",25),t&2&&m("resizeEdges",K(1,jr))}function aa(t,i){if(t&1){let e=G();S(0,"div",34,3),z("resizeStart",function(r){let a=C(e).$implicit,o=h(2),s=j(6);return T(o.timeEventResizeStarted(s,a,r))})("resizing",function(r){let a=C(e).$implicit,o=h(2);return T(o.timeEventResizing(a,r))})("resizeEnd",function(){let r=C(e).$implicit,a=h(2);return T(a.timeEventResizeEnded(r))})("dragStart",function(){let r=C(e).$implicit,a=j(1),o=h(2),s=j(6);return T(o.dragStarted(s,a,r,!0))})("dragging",function(r){let a=C(e).$implicit,o=h(2);return T(o.dragMove(a,r))})("dragEnd",function(r){let a=C(e).$implicit,o=h(2);return T(o.dragEnded(a,r,o.dayColumnWidth,!0))}),I(2,ta,1,2,"div",21)(3,na,0,0,"ng-template",35)(4,ia,1,12,"ng-template",null,4,ee)(6,ra,1,2,"div",23),M()}if(t&2){let e=i.$implicit,n=j(5),r=h(2);Ee("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),J("cal-draggable",e.event.draggable&&r.timeEventResizes.size===0)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),m("ngClass",e.event.cssClass)("hidden",e.height===0&&e.width===0)("resizeCursors",r.resizeCursors)("resizeSnapGrid",On(30,$r,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",X(35,ai,e.event,r.calendarId))("dragAxis",X(38,Ke,e.event.draggable&&r.timeEventResizes.size===0,e.event.draggable&&r.timeEventResizes.size===0))("dragSnapGrid",r.snapDraggedEvents?X(41,Ke,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):K(44,Re))("touchStartLongPress",K(45,Dt))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",n)("validateDrag",r.validateDrag),g(2),m("ngIf",(e.event==null||e.event.resizable==null?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),g(),m("ngTemplateOutlet",n),g(3),m("ngIf",(e.event==null||e.event.resizable==null?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function oa(t,i){if(t&1){let e=G();S(0,"mwl-calendar-week-view-hour-segment",38),z("mwlClick",function(r){let a=C(e).$implicit,o=h(3);return T(o.hourSegmentClicked.emit({date:a.date,sourceEvent:r}))})("drop",function(r){let a=C(e).$implicit,o=h(3);return T(o.eventDropped(r,a.date,!1))})("dragEnter",function(){let r=C(e).$implicit,a=h(3);return T(a.dateDragEnter(r.date))}),M()}if(t&2){let e=i.$implicit,n=h(3);Ee("height",n.hourSegmentHeight,"px"),m("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("daysInWeek",n.daysInWeek)("clickListenerDisabled",n.hourSegmentClicked.observers.length===0)("dragOverClass",!n.dragActive||!n.snapDraggedEvents?"cal-drag-over":null)("isTimeLabel",n.daysInWeek===1)}}function sa(t,i){if(t&1&&(S(0,"div",27),I(1,oa,1,10,"mwl-calendar-week-view-hour-segment",37),M()),t&2){let e=i.$implicit,n=i.odd,r=h(2);J("cal-hour-odd",n),g(),m("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function la(t,i){if(t&1&&(S(0,"div",30),Y(1,"mwl-calendar-week-view-current-time-marker",31),S(2,"div",32),I(3,aa,7,46,"div",33),M(),I(4,sa,2,4,"div",26),M()),t&2){let e=i.$implicit,n=h();g(),m("columnDate",e.date)("dayStartHour",n.dayStartHour)("dayStartMinute",n.dayStartMinute)("dayEndHour",n.dayEndHour)("dayEndMinute",n.dayEndMinute)("hourSegments",n.hourSegments)("hourDuration",n.hourDuration)("hourSegmentHeight",n.hourSegmentHeight)("customTemplate",n.currentTimeMarkerTemplate),g(2),m("ngForOf",e.events)("ngForTrackBy",n.trackByWeekTimeEvent),g(),m("ngForOf",e.hours)("ngForTrackBy",n.trackByHour)}}var Me=(()=>{class t{constructor(e,n,r){this.renderer=e,this.elm=n,this.document=r,this.clickListenerDisabled=!1,this.click=new H,this.destroy$=new le}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(Pe(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new tt(e=>this.renderer.listen(this.elm.nativeElement,"click",n=>{e.next(n)}))}}return t.\u0275fac=function(e){return new(e||t)(E(Te),E(me),E($e))},t.\u0275dir=ie({type:t,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"},standalone:!1}),t})(),Ct=(()=>{class t{constructor(e,n,r){this.host=e,this.ngZone=n,this.renderer=r,this.keydown=new H,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(e.keyCode===13||e.which===13||e.key==="Enter")&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){this.keydownListener!==null&&(this.keydownListener(),this.keydownListener=null)}}return t.\u0275fac=function(e){return new(e||t)(E(me),E(Ie),E(Te))},t.\u0275dir=ie({type:t,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"},standalone:!1}),t})(),wt=(()=>{class t{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:n}){return e.badgeTotal>0?`
        ${$(e.date,"EEEE MMMM d",n)},
        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},
         click to expand
      `:`${$(e.date,"EEEE MMMM d",n)}`}openDayEventsLandmark({date:e,locale:n}){return`
      Beginning of expanded view for ${$(e,"EEEE MMMM dd",n)}
    `}openDayEventsAlert({date:e,locale:n}){return`${$(e,"EEEE MMMM dd",n)} expanded`}eventDescription({event:e,locale:n}){if(e.allDay===!0)return this.allDayEventDescription({event:e,locale:n});let r=`
      ${$(e.start,"EEEE MMMM dd",n)},
      ${e.title}, from ${$(e.start,"hh:mm a",n)}
    `;return e.end?r+` to ${$(e.end,"hh:mm a",n)}`:r}allDayEventDescription({event:e,locale:n}){let r=`
      ${e.title}, event spans multiple days:
      start time ${$(e.start,"MMMM dd hh:mm a",n)}
    `;return e.end?r+`, stop time ${$(e.end,"MMMM d hh:mm a",n)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return t.\u0275fac=function(e){return new(e||t)(rt(dt))},t.\u0275prov=De({token:t,factory:t.\u0275fac}),t})(),Oe=(()=>{class t{constructor(e,n){this.calendarA11y=e,this.locale=n}transform(e,n){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[n]>"u"){let r=Object.getOwnPropertyNames(Object.getPrototypeOf(wt.prototype)).filter(a=>a!=="constructor");throw new Error(`${n} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[n](e)}}return t.\u0275fac=function(e){return new(e||t)(E(wt,16),E(Le,16))},t.\u0275pipe=st({name:"calendarA11y",type:t,pure:!0,standalone:!1}),t})(),oi=(()=>{class t{constructor(){this.trackByActionId=(e,n)=>n.id?n.id:n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=q({type:t,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},standalone:!1,decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"mwlClick","mwlKeydownEnter","ngClass","innerHtml"]],template:function(e,n){if(e&1&&I(0,Gi,1,1,"ng-template",null,0,ee)(2,Ki,0,0,"ng-template",1),e&2){let r=j(1);g(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",X(2,ji,n.event,n.trackByActionId))}},dependencies:[ue,fe,Se,te,Me,Ct,Oe],encapsulation:2}),t})(),qe=class{month(i,e){return i.title}monthTooltip(i,e){return i.title}week(i,e){return i.title}weekTooltip(i,e){return i.title}day(i,e){return i.title}dayTooltip(i,e){return i.title}},ln=(()=>{class t{constructor(e){this.calendarEventTitle=e}transform(e,n,r){return this.calendarEventTitle[n](r,e)}}return t.\u0275fac=function(e){return new(e||t)(E(qe,16))},t.\u0275pipe=st({name:"calendarEventTitle",type:t,pure:!0,standalone:!1}),t})(),si=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=q({type:t,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},standalone:!1,decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,n){if(e&1&&I(0,Zi,3,10,"ng-template",null,0,ee)(2,Qi,0,0,"ng-template",1),e&2){let r=j(1);g(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",X(2,qi,n.event,n.view))}},dependencies:[te,ln,Oe],encapsulation:2}),t})(),da=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=q({type:t,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},standalone:!1,decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,n){if(e&1&&I(0,er,3,2,"ng-template",null,0,ee)(2,tr,0,0,"ng-template",1),e&2){let r=j(1);g(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",lt(2,Ji,n.contents,n.placement,n.event))}},dependencies:[ue,te],encapsulation:2}),t})(),li=(()=>{class t{constructor(e,n,r,a,o,s){this.elementRef=e,this.injector=n,this.renderer=r,this.viewContainerRef=o,this.document=s,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new le,this.tooltipFactory=a.resolveComponentFactory(da)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(this.delay===null?fn("now"):yn(this.delay)).pipe(Pe(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=$t(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),e.indexOf(this.tooltipRef.instance.placement)===-1&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return t.\u0275fac=function(e){return new(e||t)(E(me),E(bn),E(Te),E(xn),E(ot),E($e))},t.\u0275dir=ie({type:t,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,n){e&1&&z("mouseenter",function(){return n.onMouseOver()})("mouseleave",function(){return n.onMouseOut()})},inputs:{contents:[0,"mwlCalendarTooltip","contents"],placement:[0,"tooltipPlacement","placement"],customTemplate:[0,"tooltipTemplate","customTemplate"],event:[0,"tooltipEvent","event"],appendToBody:[0,"tooltipAppendToBody","appendToBody"],delay:[0,"tooltipDelay","delay"]},standalone:!1,features:[Ce]}),t})(),Ze=function(t){return t.Month="month",t.Week="week",t.Day="day",t}(Ze||{}),di=t=>Ln(t,(...e)=>console.warn("angular-calendar",...e));function ci(t,i){return Math.floor(t.left)<=Math.ceil(i.left)&&Math.floor(i.left)<=Math.ceil(t.right)&&Math.floor(t.left)<=Math.ceil(i.right)&&Math.floor(i.right)<=Math.ceil(t.right)}function ca(t,i){return Math.floor(t.top)<=Math.ceil(i.top)&&Math.floor(i.top)<=Math.ceil(t.bottom)&&Math.floor(t.top)<=Math.ceil(i.bottom)&&Math.floor(i.bottom)<=Math.ceil(t.bottom)}function ua(t,i){return ci(t,i)&&ca(t,i)}function ui(t,i){return Math.round(t/i)*i}var pi=(t,i)=>i.id?i.id:i,dn=(t,i)=>i.date.toISOString(),pa=(t,i)=>i.date.toISOString(),ma=(t,i)=>i.segments[0].date.toISOString(),ha=(t,i)=>i.event.id?i.event.id:i.event,va=(t,i)=>i.event.id?i.event.id:i.event,fa=60;function ga(t,i,e){return(e||fa)/(t*i)}function tn(t,i,e,n,r){let a=ui(t,n||e),o=ga(i,e,r);return a*o}function ti(t,i,e){return i.end?i.end:t.addMinutes(i.start,e)}function se(t,i,e,n){let r=0,a=0,o=e<0?t.subDays:t.addDays,s=i;for(;a<=Math.abs(e);){s=o(i,r);let l=t.getDay(s);n.indexOf(l)===-1&&a++,r++}return s}function ya(t,i,e){let n=i||t;return e.start<=t&&t<=e.end||e.start<=n&&n<=e.end}function wa(t,i,e,n){return t.dropData&&t.dropData.event&&(t.dropData.calendarId!==n||t.dropData.event.allDay&&!e||!t.dropData.event.allDay&&e)}function nn(t,i,e,n=[],r){let a=r?t.startOfDay(i):t.startOfWeek(i,{weekStartsOn:e}),o=t.endOfWeek(i,{weekStartsOn:e});for(;n.indexOf(t.getDay(a))>-1&&a<o;)a=t.addDays(a,1);if(r){let s=t.endOfDay(se(t,a,r-1,n));return{viewStart:a,viewEnd:s}}else{let s=o;for(;n.indexOf(t.getDay(s))>-1&&s>a;)s=t.subDays(s,1);return{viewStart:a,viewEnd:s}}}function cn({x:t,y:i}){return Math.abs(t)>1||Math.abs(i)>1}var pe=class{},To=(()=>{class t{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new H}onClick(){let e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.view===Ze.Day?this.viewDateChange.emit(se(this.dateAdapter,this.viewDate,-1,this.excludeDays)):this.view===Ze.Week&&this.daysInWeek?this.viewDateChange.emit(se(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays)):this.viewDateChange.emit(e(this.viewDate,1))}}return t.\u0275fac=function(e){return new(e||t)(E(pe))},t.\u0275dir=ie({type:t,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,n){e&1&&z("click",function(){return n.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"},standalone:!1}),t})(),Eo=(()=>{class t{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new H}onClick(){let e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.view===Ze.Day?this.viewDateChange.emit(se(this.dateAdapter,this.viewDate,1,this.excludeDays)):this.view===Ze.Week&&this.daysInWeek?this.viewDateChange.emit(se(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays)):this.viewDateChange.emit(e(this.viewDate,1))}}return t.\u0275fac=function(e){return new(e||t)(E(pe))},t.\u0275dir=ie({type:t,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,n){e&1&&z("click",function(){return n.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"},standalone:!1}),t})(),ko=(()=>{class t{constructor(e){this.dateAdapter=e,this.viewDateChange=new H}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return t.\u0275fac=function(e){return new(e||t)(E(pe))},t.\u0275dir=ie({type:t,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,n){e&1&&z("click",function(){return n.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"},standalone:!1}),t})(),_a=(()=>{class t{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:n}){return $(e,"EEEE",n)}monthViewDayNumber({date:e,locale:n}){return $(e,"d",n)}monthViewTitle({date:e,locale:n}){return $(e,"LLLL y",n)}weekViewColumnHeader({date:e,locale:n}){return $(e,"EEEE",n)}weekViewColumnSubHeader({date:e,locale:n}){return $(e,"MMM d",n)}weekViewTitle({date:e,locale:n,weekStartsOn:r,excludeDays:a,daysInWeek:o}){let{viewStart:s,viewEnd:l}=nn(this.dateAdapter,e,r,a,o),d=(c,u)=>$(c,"MMM d"+(u?", yyyy":""),n);return`${d(s,s.getUTCFullYear()!==l.getUTCFullYear())} - ${d(l,!0)}`}weekViewHour({date:e,locale:n}){return $(e,"h a",n)}dayViewHour({date:e,locale:n}){return $(e,"h a",n)}dayViewTitle({date:e,locale:n}){return $(e,"EEEE, MMMM d, y",n)}}return t.\u0275fac=function(e){return new(e||t)(rt(pe))},t.\u0275prov=De({token:t,factory:t.\u0275fac}),t})(),_t=(()=>{class t extends _a{}return t.\u0275fac=(()=>{let i;return function(n){return(i||(i=Sn(t)))(n||t)}})(),t.\u0275prov=De({token:t,factory:t.\u0275fac}),t})(),Tt=(()=>{class t{constructor(e,n){this.dateFormatter=e,this.locale=n}transform(e,n,r=this.locale,a=0,o=[],s){if(typeof this.dateFormatter[n]>"u"){let l=Object.getOwnPropertyNames(Object.getPrototypeOf(_t.prototype)).filter(d=>d!=="constructor");throw new Error(`${n} is not a valid date formatter. Can only be one of ${l.join(", ")}`)}return this.dateFormatter[n]({date:e,locale:r,weekStartsOn:a,excludeDays:o,daysInWeek:s})}}return t.\u0275fac=function(e){return new(e||t)(E(_t,16),E(Le,16))},t.\u0275pipe=st({name:"calendarDate",type:t,pure:!0,standalone:!1}),t})(),Et=(()=>{class t{constructor(e){this.dateAdapter=e}getMonthView(e){return zn(this.dateAdapter,e)}getWeekViewHeader(e){return vt(this.dateAdapter,e)}getWeekView(e){return Pn(this.dateAdapter,e)}}return t.\u0275fac=function(e){return new(e||t)(rt(pe))},t.\u0275prov=De({token:t,factory:t.\u0275fac}),t})(),So=new kn("Moment");var ye=function(t){return t.Drag="drag",t.Drop="drop",t.Resize="resize",t}(ye||{}),Qe=(()=>{class t{static forRoot(e,n={}){return{ngModule:t,providers:[e,n.eventTitleFormatter||qe,n.dateFormatter||_t,n.utils||Et,n.a11y||wt]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ve({type:t}),t.\u0275inj=he({providers:[dt],imports:[je]}),t})(),Da=(()=>{class t{constructor(){this.highlightDay=new H,this.unhighlightDay=new H,this.eventClicked=new H,this.trackByEventId=pi,this.validateDrag=cn}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=q({type:t,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,n){e&2&&J("cal-past",n.day.isPast)("cal-today",n.day.isToday)("cal-future",n.day.isFuture)("cal-weekend",n.day.isWeekend)("cal-in-month",n.day.inMonth)("cal-out-month",!n.day.inMonth)("cal-has-events",n.day.events.length>0)("cal-open",n.day===n.openDay)("cal-event-highlight",!!n.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},standalone:!1,decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"mouseenter","mouseleave","mwlClick","ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress"]],template:function(e,n){if(e&1&&I(0,lr,8,14,"ng-template",null,0,ee)(2,dr,0,0,"ng-template",1),e&2){let r=j(1);g(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Wt(2,nr,[n.day,n.openDay,n.locale,n.tooltipPlacement,n.highlightDay,n.unhighlightDay,n.eventClicked,n.tooltipTemplate,n.tooltipAppendToBody,n.tooltipDelay,n.trackByEventId,n.validateDrag]))}},dependencies:[ue,fe,Se,te,Ne,gt,li,Me,Tt,ln,Oe],encapsulation:2}),t})(),Ca=Jn("collapse",[Jt("void",Qt({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Jt("*",Qt({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),en("* => void",Zt("150ms ease-out")),en("void => *",Zt("150ms ease-in"))]),Ta=(()=>{class t{constructor(){this.isOpen=!1,this.eventClicked=new H,this.trackByEventId=pi,this.validateDrag=cn}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=q({type:t,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},standalone:!1,decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"mwlClick","mwlKeydownEnter","event","customTemplate"],[3,"event","customTemplate"]],template:function(e,n){if(e&1&&I(0,hr,1,1,"ng-template",null,0,ee)(2,vr,0,0,"ng-template",1),e&2){let r=j(1);g(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Ft(2,cr,n.events,n.eventClicked,n.isOpen,n.trackByEventId,n.validateDrag))}},dependencies:[ue,fe,Se,te,Ne,gt,oi,si,Me,Ct,Oe],encapsulation:2,data:{animation:[Ca]}}),t})(),Ea=(()=>{class t{constructor(){this.columnHeaderClicked=new H,this.trackByWeekDayHeaderDate=dn}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=q({type:t,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},standalone:!1,decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"click","ngClass"]],template:function(e,n){if(e&1&&I(0,yr,2,2,"ng-template",null,0,ee)(2,wr,0,0,"ng-template",1),e&2){let r=j(1);g(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",lt(2,fr,n.days,n.locale,n.trackByWeekDayHeaderDate))}},dependencies:[ue,fe,te,Tt],encapsulation:2}),t})(),bo=(()=>{class t{constructor(e,n,r,a){this.cdr=e,this.utils=n,this.dateAdapter=a,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new H,this.dayClicked=new H,this.eventClicked=new H,this.columnHeaderClicked=new H,this.eventTimesChanged=new H,this.trackByRowOffset=(o,s)=>this.view.days.slice(s,this.view.totalDaysVisibleInWeek).map(l=>l.date.toISOString()).join("-"),this.trackByDate=(o,s)=>s.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){let n=e.viewDate||e.excludeDays||e.weekendDays,r=e.viewDate||e.events||e.excludeDays||e.weekendDays;n&&this.refreshHeader(),e.events&&di(this.events),r&&this.refreshBody(),(n||r)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,n){this.view.days.forEach(r=>{n&&r.events.indexOf(e)>-1?r.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(e,n,r){if(e!==r){let a=this.dateAdapter.getYear(e.date),o=this.dateAdapter.getMonth(e.date),s=this.dateAdapter.getDate(e.date),l=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(n.start,a),o),s),d;if(n.end){let c=this.dateAdapter.differenceInSeconds(l,n.start);d=this.dateAdapter.addSeconds(n.end,c)}this.eventTimesChanged.emit({event:n,newStart:l,newEnd:d,day:e,type:ye.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(this.activeDayIsOpen===!0){let e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,e));let n=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(n/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return t.\u0275fac=function(e){return new(e||t)(E(At),E(Et),E(Le),E(pe))},t.\u0275cmp=q({type:t,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},standalone:!1,features:[Ce],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"columnHeaderClicked","days","locale","customTemplate"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"eventClicked","drop","locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked","ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled"]],template:function(e,n){e&1&&(S(0,"div",0)(1,"mwl-calendar-month-view-header",1),z("columnHeaderClicked",function(a){return n.columnHeaderClicked.emit(a)}),M(),S(2,"div",2),I(3,Dr,5,13,"div",3),M()()),e&2&&(g(),m("days",n.columnHeaders)("locale",n.locale)("customTemplate",n.headerTemplate),g(2),m("ngForOf",n.view.rowOffsets)("ngForTrackBy",n.trackByRowOffset))},dependencies:[ue,fe,Ne,yt,Me,Ct,Da,Ta,Ea,Fn,Oe],encapsulation:2}),t})(),ni=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ve({type:t}),t.\u0275inj=he({imports:[je,Ge,Qe,Ge]}),t})(),rn=class{constructor(i,e){this.dragContainerElement=i,this.startPosition=e.getBoundingClientRect()}validateDrag({x:i,y:e,snapDraggedEvents:n,dragAlreadyMoved:r,transform:a}){let o=cn({x:i,y:e})||r;if(n){let s=Object.assign({},this.startPosition,{left:this.startPosition.left+a.x,right:this.startPosition.right+a.x,top:this.startPosition.top+a.y,bottom:this.startPosition.bottom+a.y});if(o){let l=this.dragContainerElement.getBoundingClientRect(),d=l.top<s.top&&s.top<l.bottom,c=l.top<s.bottom&&s.bottom<l.bottom;return ci(l,s)&&(d||c)}return!1}else return o}},an=class{constructor(i,e,n){this.resizeContainerElement=i,this.minWidth=e,this.rtl=n}validateResize({rectangle:i,edges:e}){return this.rtl&&(typeof e.left<"u"?(i.left-=e.left,i.right+=e.left):typeof e.right<"u"&&(i.left+=e.right,i.right-=e.right),i.width=i.right-i.left),this.minWidth&&Math.ceil(i.width)<Math.ceil(this.minWidth)?!1:ua(this.resizeContainerElement.getBoundingClientRect(),i)}},ka=(()=>{class t{constructor(){this.dayHeaderClicked=new H,this.eventDropped=new H,this.dragEnter=new H,this.trackByWeekDayHeaderDate=dn}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=q({type:t,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},standalone:!1,decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"mwlClick","drop","dragEnter","ngClass"]],template:function(e,n){if(e&1&&I(0,Er,2,2,"ng-template",null,0,ee)(2,kr,0,0,"ng-template",1),e&2){let r=j(1);g(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Vn(2,Cr,n.days,n.locale,n.dayHeaderClicked,n.eventDropped,n.dragEnter,n.trackByWeekDayHeaderDate))}},dependencies:[ue,fe,te,yt,Me,Tt],encapsulation:2}),t})(),Sa=(()=>{class t{constructor(){this.eventClicked=new H}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=q({type:t,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},standalone:!1,decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"mwlClick","mwlKeydownEnter","ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,n){if(e&1&&I(0,xr,6,27,"ng-template",null,0,ee)(2,Mr,0,0,"ng-template",1),e&2){let r=j(1);g(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Wt(2,Sr,[n.weekEvent,n.tooltipPlacement,n.eventClicked,n.tooltipTemplate,n.tooltipAppendToBody,n.tooltipDisabled,n.tooltipDelay,n.column,n.daysInWeek]))}},dependencies:[te,Ne,oi,si,li,Me,Ct,ln,Oe],encapsulation:2}),t})(),ba=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=q({type:t,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},standalone:!1,decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,n){if(e&1&&I(0,Hr,3,13,"ng-template",null,0,ee)(2,Ir,0,0,"ng-template",1),e&2){let r=j(1);g(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Ft(2,Or,n.segment,n.locale,n.segmentHeight,n.isTimeLabel,n.daysInWeek))}},dependencies:[ue,Se,te,Tt,Oe],encapsulation:2}),t})(),xa=(()=>{class t{constructor(e,n){this.dateAdapter=e,this.zone=n,this.columnDate$=new hn(void 0),this.marker$=this.zone.onStable.pipe(Tn(()=>wn(60*1e3)),it(0),En(this.columnDate$),Q(r=>{let a=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),s=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),l=new Date;return{isVisible:this.dateAdapter.isSameDay(r,l)&&l>=a&&l<=o,top:this.dateAdapter.differenceInMinutes(l,a)*s}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(E(pe),E(Ie))},t.\u0275cmp=q({type:t,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},standalone:!1,features:[Ce],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,n){if(e&1&&(I(0,Rr,1,1,"ng-template",null,0,ee)(2,Ar,0,0,"ng-template",1),L(3,"async"),L(4,"async")),e&2){let r,a=j(1);g(2),m("ngTemplateOutlet",n.customTemplate||a)("ngTemplateOutletContext",Hn(6,Fr,n.columnDate,n.dayStartHour,n.dayStartMinute,n.dayEndHour,n.dayEndMinute,(r=Rt(3,2,n.marker$))==null?null:r.isVisible,(r=Rt(4,4,n.marker$))==null?null:r.top))}},dependencies:[Se,te,In],encapsulation:2}),t})(),Ma=(()=>{class t{constructor(e,n,r,a,o){this.cdr=e,this.utils=n,this.dateAdapter=a,this.element=o,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new H,this.eventClicked=new H,this.eventTimesChanged=new H,this.beforeViewRender=new H,this.hourSegmentClicked=new H,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=dn,this.trackByHourSegment=pa,this.trackByHour=ma,this.trackByWeekAllDayEvent=ha,this.trackByWeekTimeEvent=va,this.trackByHourColumn=(s,l)=>l.hours[0]?l.hours[0].segments[0].date.toISOString():l,this.trackById=(s,l)=>l.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){let n=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,r=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;n&&this.refreshHeader(),e.events&&di(this.events),r&&this.refreshBody(),(n||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&getComputedStyle(this.element.nativeElement).direction==="rtl",this.cdr.detectChanges()}timeEventResizeStarted(e,n,r){this.timeEventResizes.set(n.event,r),this.resizeStarted(e,n)}timeEventResizing(e,n){this.timeEventResizes.set(e.event,n);let r=new Map,a=[...this.events];this.timeEventResizes.forEach((o,s)=>{let l=this.getTimeEventResizedDates(s,o),d=Z(Z({},s),l);r.set(d,s);let c=a.indexOf(s);a[c]=d}),this.restoreOriginalEvents(a,r,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);let n=this.timeEventResizes.get(e.event);if(n){this.timeEventResizes.delete(e.event);let r=this.getTimeEventResizedDates(e.event,n);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:e.event,type:ye.Resize})}}allDayEventResizeStarted(e,n,r){this.allDayEventResizes.set(n,{originalOffset:n.offset,originalSpan:n.span,edge:typeof r.edges.left<"u"?"left":"right"}),this.resizeStarted(e,n,this.getDayColumnWidth(e))}allDayEventResizing(e,n,r){let a=this.allDayEventResizes.get(e),o=this.rtl?-1:1;if(typeof n.edges.left<"u"){let s=Math.round(+n.edges.left/r)*o;e.offset=a.originalOffset+s,e.span=a.originalSpan-s}else if(typeof n.edges.right<"u"){let s=Math.round(+n.edges.right/r)*o;e.span=a.originalSpan+s}}allDayEventResizeEnded(e){let n=this.allDayEventResizes.get(e);if(n){let r=n.edge==="left",a;r?a=e.offset-n.originalOffset:a=e.span-n.originalSpan,e.offset=n.originalOffset,e.span=n.originalSpan;let o=this.getAllDayEventResizedDates(e.event,a,r);this.eventTimesChanged.emit({newStart:o.start,newEnd:o.end,event:e.event,type:ye.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,n,r){wa(e,n,r,this.calendarId)&&this.lastDragEnterDate.getTime()===n.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:ye.Drop,event:e.dropData.event,newStart:n,allDay:r}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,n,r,a){this.dayColumnWidth=this.getDayColumnWidth(e);let o=new rn(e,n);this.validateDrag=({x:s,y:l,transform:d})=>{let c=this.allDayEventResizes.size===0&&this.timeEventResizes.size===0&&o.validateDrag({x:s,y:l,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:d});if(c&&this.validateEventTimesChanged){let u=this.getDragMovedEventTimes(r,{x:s,y:l},this.dayColumnWidth,a);return this.validateEventTimesChanged({type:ye.Drag,event:r.event,newStart:u.start,newEnd:u.end})}return c},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&a&&this.view.hourColumns.forEach(s=>{let l=s.events.find(d=>d.event===r.event&&d!==r);l&&(l.width=0,l.height=0)}),this.cdr.markForCheck()}dragMove(e,n){let r=this.getDragMovedEventTimes(e,n,this.dayColumnWidth,!0),a=e.event,o=Z(Z({},a),r),s=this.events.map(l=>l===a?o:l);this.restoreOriginalEvents(s,new Map([[o,a]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,n,r,a=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;let{start:o,end:s}=this.getDragMovedEventTimes(e,n,r,a);(this.snapDraggedEvents||this.eventDragEnterByType[a?"time":"allDay"]>0)&&ya(o,s,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:o,newEnd:s,event:e.event,type:ye.Drag,allDay:!a}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Z({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},nn(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Z({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(Z({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},nn(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,n,r,a){let o=ui(n.x,r)/r*(this.rtl?-1:1),s=a?tn(n.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,l=this.dateAdapter.addMinutes(se(this.dateAdapter,e.event.start,o,this.excludeDays),s),d;return e.event.end&&(d=this.dateAdapter.addMinutes(se(this.dateAdapter,e.event.end,o,this.excludeDays),s)),{start:l,end:d}}restoreOriginalEvents(e,n,r=!0){let a=this.view;r&&(this.view=this.getWeekView(e));let o=e.filter(s=>n.has(s));this.view.hourColumns.forEach((s,l)=>{a.hourColumns[l].hours.forEach((d,c)=>{d.segments.forEach((u,w)=>{s.hours[c].segments[w].cssClass=u.cssClass})}),o.forEach(d=>{let c=n.get(d),u=s.events.find(w=>w.event===(r?d:c));if(u)u.event=c,u.tempEvent=d,r||(u.height=0,u.width=0);else{let w={event:c,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:d};s.events.push(w)}})}),n.clear()}getTimeEventResizedDates(e,n){let r={start:e.start,end:ti(this.dateAdapter,e,this.minimumEventHeight)},d=e,{end:a}=d,o=mn(d,["end"]),s={start:this.dateAdapter.addMinutes(r.end,this.minimumEventHeight*-1),end:ti(this.dateAdapter,o,this.minimumEventHeight)},l=this.rtl?-1:1;if(typeof n.edges.left<"u"){let c=Math.round(+n.edges.left/this.dayColumnWidth)*l,u=se(this.dateAdapter,r.start,c,this.excludeDays);u<s.start?r.start=u:r.start=s.start}else if(typeof n.edges.right<"u"){let c=Math.round(+n.edges.right/this.dayColumnWidth)*l,u=se(this.dateAdapter,r.end,c,this.excludeDays);u>s.end?r.end=u:r.end=s.end}if(typeof n.edges.top<"u"){let c=tn(n.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(r.start,c);u<s.start?r.start=u:r.start=s.start}else if(typeof n.edges.bottom<"u"){let c=tn(n.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(r.end,c);u>s.end?r.end=u:r.end=s.end}return r}resizeStarted(e,n,r){this.dayColumnWidth=this.getDayColumnWidth(e);let a=new an(e,r,this.rtl);this.validateResize=({rectangle:o,edges:s})=>{let l=a.validateResize({rectangle:Z({},o),edges:s});if(l&&this.validateEventTimesChanged){let d;if(!r)d=this.getTimeEventResizedDates(n.event,{rectangle:o,edges:s});else{let c=this.rtl?-1:1;if(typeof s.left<"u"){let u=Math.round(+s.left/r)*c;d=this.getAllDayEventResizedDates(n.event,u,!this.rtl)}else{let u=Math.round(+s.right/r)*c;d=this.getAllDayEventResizedDates(n.event,u,this.rtl)}}return this.validateEventTimesChanged({type:ye.Resize,event:n.event,newStart:d.start,newEnd:d.end})}return l},this.cdr.markForCheck()}getAllDayEventResizedDates(e,n,r){let a=e.start,o=e.end||e.start;return r?a=se(this.dateAdapter,a,n,this.excludeDays):o=se(this.dateAdapter,o,n,this.excludeDays),{start:a,end:o}}}return t.\u0275fac=function(e){return new(e||t)(E(At),E(Et),E(Le),E(pe),E(me))},t.\u0275cmp=q({type:t,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},standalone:!1,features:[Ce],decls:8,vars:9,consts:[["dayColumns",""],["allDayEventsContainer",""],["eventRowContainer",""],["event",""],["weekEventTemplate",""],["role","grid",1,"cal-week-view"],[3,"dayHeaderClicked","eventDropped","dragEnter","days","locale","customTemplate"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],[1,"cal-time-label-column"],[4,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress"],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag"],[3,"ngTemplateOutlet"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"mwlClick","drop","dragEnter","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel"]],template:function(e,n){if(e&1){let r=G();S(0,"div",5)(1,"mwl-calendar-week-view-header",6),z("dayHeaderClicked",function(o){return C(r),T(n.dayHeaderClicked.emit(o))})("eventDropped",function(o){return C(r),T(n.eventDropped({dropData:o},o.newStart,!0))})("dragEnter",function(o){return C(r),T(n.dateDragEnter(o.date))}),M(),I(2,Zr,7,5,"div",7),S(3,"div",8),z("dragEnter",function(){return C(r),T(n.dragEnter("time"))})("dragLeave",function(){return C(r),T(n.dragLeave("time"))}),I(4,ea,2,2,"div",9),S(5,"div",10,0),I(7,la,5,13,"div",11),M()()()}e&2&&(g(),m("days",n.days)("locale",n.locale)("customTemplate",n.headerTemplate),g(),m("ngIf",n.view.allDayEventRows.length>0),g(2),m("ngIf",n.view.hourColumns.length>0&&n.daysInWeek!==1),g(),J("cal-resize-active",n.timeEventResizes.size>0),g(2),m("ngForOf",n.view.hourColumns)("ngForTrackBy",n.trackByHourColumn))},dependencies:[ue,fe,Se,te,Wn,Rn,gt,yt,Me,ka,Sa,ba,xa],encapsulation:2}),t})(),on=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ve({type:t}),t.\u0275inj=he({imports:[je,Bt,Ge,Qe,Bt,Ge]}),t})(),xo=(()=>{class t{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new H,this.hourSegmentClicked=new H,this.eventTimesChanged=new H,this.beforeViewRender=new H}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=q({type:t,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},standalone:!1,decls:1,vars:27,consts:[[1,"cal-day-view",3,"eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender","daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged"]],template:function(e,n){e&1&&(S(0,"mwl-calendar-week-view",0),z("eventClicked",function(a){return n.eventClicked.emit(a)})("hourSegmentClicked",function(a){return n.hourSegmentClicked.emit(a)})("eventTimesChanged",function(a){return n.eventTimesChanged.emit(a)})("beforeViewRender",function(a){return n.beforeViewRender.emit(a)}),M()),e&2&&m("daysInWeek",1)("viewDate",n.viewDate)("events",n.events)("hourSegments",n.hourSegments)("hourDuration",n.hourDuration)("hourSegmentHeight",n.hourSegmentHeight)("minimumEventHeight",n.minimumEventHeight)("dayStartHour",n.dayStartHour)("dayStartMinute",n.dayStartMinute)("dayEndHour",n.dayEndHour)("dayEndMinute",n.dayEndMinute)("refresh",n.refresh)("locale",n.locale)("eventSnapSize",n.eventSnapSize)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDelay",n.tooltipDelay)("resizeCursors",n.resizeCursors)("hourSegmentTemplate",n.hourSegmentTemplate)("eventTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)("snapDraggedEvents",n.snapDraggedEvents)("allDayEventsLabelTemplate",n.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",n.currentTimeMarkerTemplate)("validateEventTimesChanged",n.validateEventTimesChanged)},dependencies:[Ma],encapsulation:2}),t})(),ii=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ve({type:t}),t.\u0275inj=he({imports:[je,Qe,on]}),t})(),Mo=(()=>{class t{static forRoot(e,n={}){return{ngModule:t,providers:[e,n.eventTitleFormatter||qe,n.dateFormatter||_t,n.utils||Et,n.a11y||wt]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ve({type:t}),t.\u0275inj=he({imports:[Qe,ni,on,ii,Qe,ni,on,ii]}),t})();var Oa=Math.pow(10,8)*24*60*60*1e3,Io=-Oa,Fo=6048e5,Wo=864e5,Ro=6e4,mi=36e5;var Va=3600;var hi=Va*24,Ao=hi*7,Ha=hi*365.2425,Ia=Ha/12,Bo=Ia*3,un=Symbol.for("constructDateFrom");function Ae(t,i){return typeof t=="function"?t(i):t&&typeof t=="object"&&un in t?t[un](i):t instanceof Date?new t.constructor(i):new Date(i)}function we(t,i){return Ae(i||t,t)}function vi(t,i,e){let n=we(t,e?.in);return isNaN(i)?Ae(e?.in||t,NaN):(i&&n.setDate(n.getDate()+i),n)}function fi(t,i,e){return Ae(e?.in||t,+we(t)+i)}function Qo(t,i,e){return fi(t,i*mi,e)}function ts(t,i){let e=we(t,i?.in);return e.setHours(0,0,0,0),e}function rs(t,i){let e=we(t,i?.in),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function ss(t,i,e){return vi(t,-i,e)}export{pt as a,xe as b,Qa as c,Ja as d,Qt as e,Zn as f,Qn as g,eo as h,Ze as i,pe as j,To as k,Eo as l,ko as m,Tt as n,bo as o,Ma as p,xo as q,Mo as r,Fo as s,Wo as t,Ro as u,Ae as v,we as w,vi as x,fi as y,Qo as z,ts as A,rs as B,ss as C};
